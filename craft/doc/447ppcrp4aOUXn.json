{
  "schemaVersion": "1",
  "spaceId": "d8d537f0-b7d4-e6fe-0216-30e666a82048",
  "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
  "blocks": [
    {
      "id": "00386B07-CCD5-4B09-93C2-2104C56527A9",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "https://secure-res.craft.do/v2/EDHMbkhRZis5s4t2DRLHB42B9pNj6rMVQkM6TFXrHCD4iGibvgr5AE7kddVeGcDfBxyAVB63vYGJRr4KEEW8oRRPro87sZ6eYGLm5RSNNWzroT3Za9cwqP1TaKboYMTUzauE85cHK7pufq8TBj5nYuRDMbD1PRPdektvX1NkPQy2t42DVtc5JNai9VFK6rmYWfM1oq6m1i3SDVK4FxSbMerYtFscMkx1rhpfPUTgRAFdz5HNYLhuziPs87pgPFYVjW8qVEyDyEFUBgrXPeZhNvPpmZJNgnbwqfCncg4rm4iWgsrnTm",
      "pageStyleData": "{}",
      "rawProperties": "{\"aspectRatio\":\"1.3277511961722488\",\"fileExtension\":\"tiff\",\"fileName\":\"Image.tiff\",\"isPreviewImageUploaded\":\"true\",\"mimeType\":\"image/tiff\",\"previewImageWidth\":\"555.0\",\"primaryColor\":\"16777215\",\"rawDataSize\":\"700256\",\"rawUrl\":\"https://secure-res.craft.do/v2/EDHMbkhRZis5s4t2DRLHB42B9pNj6rMVQkM6TFXrHCD3AZVsNkUjq4fmL4oiHKgtUrhjvMqqntBDJRopzmTUpNsBUs3CzTiZ6BRoUNCJ9iHLMJ2zD8mPRDTp7MCk1b3JznsGbB79coBWwhugw8JVEQR8bxw8iGGxkvgmqyAa2tcC4NCySjrmp9m9mwzQdaJDAu3oDVApJmfFNgGqLGhCh7mFWnDhtELw8q7roDFGLknnKMUnZqY5BEAJTuzwjgUJrE52gwn49b1h8Zx6ifpsQ4VQc46wnFJjU549SYA7ieCypPKD9A/Image.jpg\",\"uploaded\":\"true\",\"url\":\"https://secure-res.craft.do/v2/EDHMbkhRZis5s4t2DRLHB42B9pNj6rMVQkM6TFXrHCD4iGibvgr5AE7kddVeGcDfBxyAVB63vYGJRr4KEEW8oRRPro87sZ6eYGLm5RSNNWzroT3Za9cwqP1TaKboYMTUzauE85cHK7pufq8TBj5nYuRDMbD1PRPdektvX1NkPQy2t42DVtc5JNai9VFK6rmYWfM1oq6m1i3SDVK4FxSbMerYtFscMkx1rhpfPUTgRAFdz5HNYLhuziPs87pgPFYVjW8qVEyDyEFUBgrXPeZhNvPpmZJNgnbwqfCncg4rm4iWgsrnTm/Image.jpg\"}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574571171,
      "type": "image",
      "style": "{\"decorations\":{},\"decorationStyles\":{},\"imageFillStyle\":\"scaleAspectFit\",\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574575077
    },
    {
      "id": "0218C188-4727-458A-9176-95369C706C4E",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "父窗口将控件发给它的通知消息，反射回控件进行处理（即让控件处理这个消息），这种通知消息让控件自己处理的机制叫做消息反射机制。\n通过前面的学习我们知道，一般情况下，控件向父窗口发送通知消息，由父窗口处理这些通知消息。这样，父窗口（通常是一个对话框）会对这些消息进行处理，换句话说，控件的这些消息处理必须在父窗口类体内，每当我们添加子控件的时候，就要在父窗口类中复制这些代码。很明显，这对代码的维护和移植带来了不便，而且，明显背离C++的对象编程原则。\n从4.0版开始，MFC提供了一种消息反射机制(Message Reflection)，可以把控件通知消息反射回控件。具体地讲，对于反射消息，如果控件有该消息的处理函数，那么就由控件自己处理该消息，如果控件不处理该消息，则框架会把该消息继续送给父窗口，这样父窗口继续处理该消息。可见，新的消息反射机制并不破坏原来的通知消息处理机制。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749123037755,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":1,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749123038645
    },
    {
      "id": "037DEE48-6620-43F5-BCE4-4FB673760A39",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "什么叫消息反射？",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436664,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749123037758
    },
    {
      "id": "0627A023-320B-437E-824B-3EE13815BCB8",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "系统定义消息(System-Defined Messages)",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436615,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":1,\"listStyle\":\"bullet\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122213150
    },
    {
      "id": "0735D960-4658-4CB9-9D33-EBCCE06F0B71",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "非队列消息(NonQueued Messages)",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436629,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":1,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":2}",
      "blocks": [],
      "updated": 1749122364396
    },
    {
      "id": "0CC6C67C-9B7D-441A-85AE-22EBED18ABD9",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "非队列消息将会绕过系统队列和消息队列，直接将消息发送到窗口过程，。系统发送非队列消息通知窗口，系统发送消息通知窗口。例如,当用户激活一个窗口系统发送WM_ACTIVATE, WM_SETFOCUS, and WM_SETCURSOR。这些消息通知窗口它被激活了。非队列消息也可以由当应用程序调用系统函数产生。例如,当程序调用SetWindowPos系统发送WM_WINDOWPOSCHANGED消息。一些函数也发送非队列消息，例如下面我们要谈到的函数。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436634,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436634
    },
    {
      "id": "0D2DA2D8-F3D9-49EF-9604-3EC689EF381C",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "TranslateMessage函数\n用于将虚拟键消息转换为字符消息。字符消息被投递到调用线程的消息队列中，当下一次调用GetMessage函数时被取出。当我们敲击键盘上的某个字符键时，系统将产生WM_KEYDOWN和WM_KEYUP消息。这两个消息的附加参数（wParam和lParam）包含的是虚拟键代码和扫描码等信息，而我们在程序中往往需要得到某个字符的ASCII码，TranslateMessage这个函数就可以将WM_KEYDOWN和WM_ KEYUP消息的组合转换为一条WM_CHAR消息（该消息的wParam附加参数包含了字符的ASCII码），并将转换后的新消息投递到调用线程的消息队列中。注意，TranslateMessage函数并不会修改原有的消息，它只是产生新的消息并投递到消息队列中。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436654,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436654
    },
    {
      "id": "0F6FF576-39F3-46C3-9B7A-21F0A6EDD865",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "private:\n    CBrush m_brBkgnd;\n    COLORREF m_clrBkgnd;\n    COLORREF m_clrText;\n\nCMyEdit::CMyEdit()//给这三个变量赋初值：\n{\n    m_clrBkgnd = RGB( 255, 255, 0 );\n    m_clrText = RGB( 0, 0, 0 );\n    m_brBkgnd.CreateSolidBrush(RGB( 150, 150, 150) );\n}",
      "rawProperties": "{\"language\":\"cpp\"}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436667,
      "type": "code",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436667
    },
    {
      "id": "18748549-3AF8-45CD-B503-B5A2059E7751",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "消息会先保存在消息队列中，消息循环会从此队列中取消息并分发到各窗口处理  、如鼠标，键盘消息。 ",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122376491,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":2,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122381297
    },
    {
      "id": "1C69B77B-BC81-4289-90DE-8A1B3B1BFD8D",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "typedef struct tagMsg \n{ \n HWND hwnd;          // 接受该消息的窗口句柄 \n UINT message;         // 消息常量标识符，也就是我们通常所说的消息号 \n WPARAM wParam;     // 32位消息的特定附加信息，确切含义依赖于消息值 \n LPARAM lParam;       // 32位消息的特定附加信息，确切含义依赖于消息值 \n DWORD time;         // 消息创建时的时间 \n POINT pt;             // 消息创建时的鼠标/光标在屏幕坐标系中的位置 \n}MSG; ",
      "rawProperties": "{\"language\":\"cpp\"}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436613,
      "type": "code",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436613
    },
    {
      "id": "21B8341D-87EE-4BCF-914C-093FF47D49A8",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "线程消息队列(Thread-specific Message Queue)",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436625,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":2}",
      "blocks": [],
      "updated": 1687574436625
    },
    {
      "id": "237280AA-7DAF-417F-B215-B7B172C098A7",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "while (GetMessage(&Msg, NULL, 0, 0))\n{\n if (!TranslateAccelerator(hwnd, hAccelerator, &Msg))\n {\n     TranslateMessage(&Msg);\n     DispatchMessage(&Msg);\n }\n}",
      "rawProperties": "{\"language\":\"cpp\"}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436608,
      "type": "code",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436608
    },
    {
      "id": "286D73DC-505A-4C4C-9A07-24CE2E63F5B0",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "从消息的发送途径来看，消息可以分成2种：队列消息和非队列消息。消息队列由可以分成系统消息队列和线程消息队列。系统消息队列由Windows维护，线程消息队列则由每个GUI线程自己进行维护，为避免给non-GUI现成创建消息队列，所有线程产生时并没有消息队列，仅当线程第一次调用GDI函数时系统才给线程创建一个消息队列。队列消息送到系统消息队列，然后到线程消息队列；非队列消息直接送给目的窗口过程。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122423923,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":1,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122453367
    },
    {
      "id": "2B92DB7A-4C16-40E0-B23C-DE6B33E9A434",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "MFC的消息映射     ",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436659,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":11}",
      "blocks": [],
      "updated": 1749122975506
    },
    {
      "id": "2C11B3CA-480B-4367-97BE-307970BB2506",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "PostMessage(异步)和SendMessage(同步)的区别",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436636,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122606730
    },
    {
      "id": "2E3390CD-0452-496F-A7D3-A7F81EAFA119",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "区别：",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436645,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436645
    },
    {
      "id": "2ECB6DAE-1FC5-446B-8071-3388DDD9B6B6",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "在该工程中，新建一个CMyEdit类，基类是CEdit。接着，在该类中添加三个变量，如下：",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436666,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436667
    },
    {
      "id": "2FA3BAA2-6CD1-42AF-8568-8BB45D22B254",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "每一个GUI线程都会维护这样一个线程消息队列。(这个队列只有在线程调用GDI函数时才会创建，默认不创建)。然后线程消息队列中的消息会被送到相应的窗口过程(WndProc)处理. ",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122296298,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":1,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122300877
    },
    {
      "id": "3044F2E5-E62C-45D6-8DFA-7949F747D3CD",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "SendMessage等待消息被处理完了才返回，如果消息不被处理，发送消息的线程将一直处于阻塞状态，等待消息的返回。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122671789,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{\"focus\":1},\"indentationLevel\":1,\"listStyle\":\"bullet\",\"textStyle\":\"caption\"}",
      "blocks": [],
      "updated": 1749122686104
    },
    {
      "id": "3127DAD6-6D73-46DC-A61B-108A5AF2845F",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "如：WM_CREATE, WM_PAINT, WM_MOUSEMOVE, WM_CTLCOLOR, WM_HSCROLL...",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436617,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":4,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122241851
    },
    {
      "id": "3188D98C-5EC0-48BB-A3BF-CD24D6EBDFD9",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "Windows 是一个事件驱动的操作系统。事件驱动围绕着消息的产生与处理展开，事件驱动是靠消息循环机制来实现的。也可以理解为消息是一种报告有关事件发生的通知，消息是Windows 操作系统的灵魂。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436603,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436604
    },
    {
      "id": "369ED3E6-2014-47AF-8BCA-612640675B9F",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "消息反射机制为控件提供了处理通知消息的机会，这是很有用的。如果按传统的方法，由父窗口来处理这个消息，则加重了控件对象对父窗口的依赖程度，这显然违背了面向对象的原则。若由控件自己处理消息，则使得控件对象具有更大的独立性，大大方便了代码的维护和移植。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436665,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436665
    },
    {
      "id": "39CD8B09-B37B-434A-969C-AA1DD18B49A1",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "在屏幕显示一个窗口一般是以下几个步骤：",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436604,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436604
    },
    {
      "id": "3BB612A9-06A5-439A-A29E-394DA91F144E",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "对于队列消息，最常见的是鼠标和键盘触发的消息，例如WM_MOUSERMOVE,WM_CHAR等消息，还有一些其它的消息，例如：WM_PAINT、 WM_TIMER和WM_QUIT。当鼠标、键盘事件被触发后，相应的鼠标或键盘驱动程序就会把这些事件转换成相应的消息，然后输送到系统消息队列，由 Windows系统去进行处理。Windows系统则在适当的时机，从系统消息队列中取出一个消息，根据前面我们所说的MSG消息结构确定消息是要被送往那个窗口，然后把取出的消息送往创建窗口的线程的相应队列，下面的事情就该由线程消息队列操心了，Windows开始忙自己的事情去了。线程看到自己的消息队列中有消息，就从队列中取出来，通过操作系统发送到合适的窗口过程去处理。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122453364,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122454383
    },
    {
      "id": "3E4BC6F1-3350-43A1-A882-DAE2BB908FD4",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "PostMessage 只把消息放到队列，不管消息是不是被处理就返回，消息可能不被处理；",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122641811,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{\"focus\":1},\"indentationLevel\":1,\"listStyle\":\"bullet\",\"textStyle\":\"caption\"}",
      "blocks": [],
      "updated": 1749122683745
    },
    {
      "id": "41494930-4783-4C17-8356-BB6DE687EE06",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "系统只处理（marshal)系统消息（0--WM_USER)，发送用户消息（用户自己定义）时需要用户自己处理。\n使用PostMessage,SendNotifyMessage,SendMessageCallback等异步函数发送系统消息时，参数不可以使用指针，因为发送者不等待消息的处理就返回，接收者还没有处理，指针就有可能被释放了，或则内容变化了。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122731793,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":1,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122733245
    },
    {
      "id": "44080E97-78D4-4F77-A6B2-22033E1ADFBA",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "PeekMessage会立即返回    可以保留消息",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436642,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{\"focus\":1},\"indentationLevel\":0,\"listStyle\":\"bullet\",\"textStyle\":\"caption\"}",
      "blocks": [],
      "updated": 1749122769939
    },
    {
      "id": "472845E8-DDD0-41EA-A019-D0B6CFF6CE68",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "3> 控件通知(Notify Message)",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436620,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":2,\"listStyle\":\"bullet\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122213156
    },
    {
      "id": "479DD777-7DEE-4981-B665-E2E1C5601B08",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "不能用PeekMessage从消息队列中删除WM_PAINT消息，从队列中删除WM_PAINT消息可以令窗口显示区域的失效区域变得有效（刷新窗口），如果队列中包含WM_PAINT消息程序就会一直while循环了。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436648,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122826122
    },
    {
      "id": "4AC455B2-36AB-46BF-8A9B-A0C4621A2F1D",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "进入无限的消息循环，如果有消息到达，将消息分派到回调函数处理（DispatchMessage），如果是WM_QUIT消息，则退出循环。回调函数是用来处理消息的，也叫窗口过程，这是由windows自己调用的，我们调用DispatchMessage函数，而DispatchMessage函数会自动调用窗口过程。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436608,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isCode\":true,\"range\":[31,15]},{\"isCode\":true,\"range\":[51,7]},{\"isCode\":true,\"range\":[107,15]},{\"isCode\":true,\"range\":[126,15]}],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":6}",
      "blocks": [],
      "updated": 1687574436608
    },
    {
      "id": "4BD2B88F-7E43-4617-A8B7-9E755FDFF943",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "消息的处理",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436653,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isBold\":true,\"isCode\":false,\"isItalic\":false,\"isStrikethrough\":false,\"range\":[0,5]}],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":10}",
      "blocks": [],
      "updated": 1749122920472
    },
    {
      "id": "4BD710FD-672F-4993-A3EB-0BA8691FACB7",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "TranslateMessage, TranslateAccelerator  ",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122826119,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isBold\":true,\"isCode\":false,\"isItalic\":false,\"isStrikethrough\":false,\"range\":[0,40]}],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":7}",
      "blocks": [],
      "updated": 1749122847776
    },
    {
      "id": "4C71335C-E155-44F2-A717-756F8616C79A",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "用户自定义的消息， 对于其范围有如下规定： ",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122168831,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":2,\"listStyle\":\"bullet\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122213157
    },
    {
      "id": "4F287477-FB6D-4E04-ACD9-31D98A82D9E9",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "https://secure-res.craft.do/v2/EDHMbkhRZis5s4t2DRLHB42B9pNj6rMVQkM6TFXrHCD4iGibvgr5AE7kddVeGcDfBxyAVB63vYGJRr4KEEW8oRRPro87sZ6eYGLm5RSNNWzroT3Za9cwqP1TaKboYMTUzauE85cHK7pufq8TBj5nYuRDMw8mP1wXmAveKP6WPAGH8XzhaDfBUStpKP9MfaxhbWQ7mJHm8EQH6eK2qZgky5pnXJNPiRrq1EVY53JjtqacbWN1GCXvZwm7FrWKzfXyaNGFjLkEimbjyq2CoU39gdrPzRvHQk1ufFdcFqgKb3kCaMqMCT",
      "pageStyleData": "{}",
      "rawProperties": "{\"aspectRatio\":\"1.1161417322834646\",\"fileExtension\":\"tiff\",\"fileName\":\"Image.tiff\",\"isPreviewImageUploaded\":\"true\",\"mimeType\":\"image/tiff\",\"previewImageWidth\":\"567.0\",\"primaryColor\":\"16777215\",\"rawDataSize\":\"868402\",\"rawUrl\":\"https://secure-res.craft.do/v2/EDHMbkhRZis5s4t2DRLHB42B9pNj6rMVQkM6TFXrHCD3AZVsNkUjq4fmL4oiHKgtUrhjvMqqntBDJRopzmTUpNsBUs3CzTiZ6BRoUNCJ9iHLMJ2zD8mPRDTp7MCk1b3JznsGbB79coBWwhugw8JVEQR8c4eLRinkVhS2VMp1i8ejb5xzkTFadSpCjWhkADi4oFGBL77PDSqyRLWnibNQ8ZAbH3hzNNuPWEwcAmn2A5AddFd5cguMpqFwuTGX5uQrb4mDpqstYi2XuFdVWB797pp9LeHnC3eGnVhzh4LCqqPQLo6cE6/Image.jpg\",\"uploaded\":\"true\",\"url\":\"https://secure-res.craft.do/v2/EDHMbkhRZis5s4t2DRLHB42B9pNj6rMVQkM6TFXrHCD4iGibvgr5AE7kddVeGcDfBxyAVB63vYGJRr4KEEW8oRRPro87sZ6eYGLm5RSNNWzroT3Za9cwqP1TaKboYMTUzauE85cHK7pufq8TBj5nYuRDMw8mP1wXmAveKP6WPAGH8XzhaDfBUStpKP9MfaxhbWQ7mJHm8EQH6eK2qZgky5pnXJNPiRrq1EVY53JjtqacbWN1GCXvZwm7FrWKzfXyaNGFjLkEimbjyq2CoU39gdrPzRvHQk1ufFdcFqgKb3kCaMqMCT/Image.jpg\"}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574539610,
      "type": "image",
      "style": "{\"decorations\":{},\"decorationStyles\":{},\"imageFillStyle\":\"scaleAspectFit\",\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574544846
    },
    {
      "id": "52EFBE32-3B72-4DD2-9E4B-644292297E02",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "BroadcastSystemMessage这个API可以对以上系统组件发送消息。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436652,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436652
    },
    {
      "id": "547CD8A2-9CB1-4950-949F-5ED9BCB2A68C",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "TranslateMessage(转换消息):\n用来把虚拟键消息转换为字符消息。由于Windows对所有键盘编码都是采用虚拟键的定义，这样当按键按下时，并不得字符消息，需要键盘映射转换为字符的消息。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436654,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436654
    },
    {
      "id": "55B5843F-31DE-4D98-9FAA-FBD6C070A139",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "消息反射机制",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436663,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":12}",
      "blocks": [],
      "updated": 1749123016246
    },
    {
      "id": "574826BE-B2FF-4714-AE06-0F61FF463F9D",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "HBRUSH CMyEdit::CtlColor(CDC* pDC, UINT nCtlColor)\n{\n    // TODO: Change any attributes of the DC here\n    pDC->SetTextColor( m_clrText );//设置文本颜色\n    pDC->SetBkColor( m_clrBkgnd );//设置背景颜色\n     //请注意，在我们改写该函数的内容前，函数返回NULL，即return NULL;\n    //函数返回NULL将会执行父窗口的CtlColor函数，而不执行控件的CtlColor函数\n    //所以，我们让函数返回背景刷，而不返回NULL，目的就是为了实现消息反射\n    return m_brBkgnd; //返回背景刷\n}",
      "rawProperties": "{\"language\":\"cpp\"}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436669,
      "type": "code",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436669
    },
    {
      "id": "58E0CEF2-6316-4841-80AF-D8EF6111AA87",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "消息类型",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436614,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isBold\":true,\"isCode\":false,\"isItalic\":false,\"isStrikethrough\":false,\"range\":[0,4]}],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":2}",
      "blocks": [],
      "updated": 1749121919200
    },
    {
      "id": "5A2FA6D0-2F91-4BA1-814B-B07D5A139EE3",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "一般来讲，系统总是将消息Post在消息队列的末尾。这样保证窗口以先进先出的顺序接受消息。然而,WM_PAINT是一个例外，同一个窗口的多个 WM_PAINT被合并成一个 WM_PAINT 消息, 合并所有的无效区域到一个无效区域。合并WM_PAIN的目的是为了减少刷新窗口的次数。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436632,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436632
    },
    {
      "id": "5DF86159-A0B9-4D6C-9967-59EDB978EECA",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "while(GetMessage(&msg, NULL, 0, 0))\n{\n    if(!TranslateAccelerator(msg.hWnd, hAccelTable, &msg))\n     { \n        TranslateMessage(&msg);\n        DispatchMessage(&msg);\n    }\n}",
      "rawProperties": "{\"language\":\"cpp\"}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436653,
      "type": "code",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436653
    },
    {
      "id": "62DF7973-AE6F-4045-AC6E-B7C4EB929B82",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "b、 同一个线程内：   SendMessage 发送消息时，由USER32.DLL模块调用目标窗口的消息处理程序，并将结果返回，SendMessage 在同一个线程里面发送消息不进入线程消息队列；PostMessage 发送的消息要先放到消息队列，然后通过消息循环分派到目标窗口（DispatchMessage）。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436637,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122706126
    },
    {
      "id": "63A4362A-5F9D-4E8B-B605-B54A727E2E3B",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "BEGIN_MASSAGE_MAP(当前类，当前类的基类)\n{{AFX_MSG_MAP(CMainFrame)\n    //消息的入口项\n}}AFX_MSG_MAP\nEND_MESSAGE_MAP()",
      "rawProperties": "{\"language\":\"cpp\"}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436661,
      "type": "code",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436662
    },
    {
      "id": "666A879F-EA70-47CD-9823-95DF5163A38E",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "队列消息(Queued Messages)",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436627,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":1,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":1}",
      "blocks": [],
      "updated": 1749122358156
    },
    {
      "id": "6694AB12-786F-4B60-BC90-E9D2AD7C02B4",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "程序定义消息(Application-Defined Messages)",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436621,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":1,\"listStyle\":\"bullet\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122213157
    },
    {
      "id": "6C11AC0B-67A4-45A3-9800-FDF1E1CAB33D",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "SendMessage：直接把消息送到窗口过程处理， 处理完了才返回。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122546936,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{\"focus\":1},\"indentationLevel\":1,\"listStyle\":\"bullet\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122546937
    },
    {
      "id": "752D1F6E-32D6-405B-8CDD-21A9219E74F0",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "BroadcastSystemMessage",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436651,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isBold\":true,\"isCode\":false,\"isItalic\":false,\"isStrikethrough\":false,\"range\":[0,22]}],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":9}",
      "blocks": [],
      "updated": 1749122886435
    },
    {
      "id": "778E4441-1A2E-4B21-9AD1-F638885961CE",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "Windows中有两种类型的消息队列",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436624,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436624
    },
    {
      "id": "794D9970-826B-4389-892E-FC5A1F8DEAB7",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "使用MFC编程时，消息发送和处理的本质和Win32相同，但是，它对消息处理进行了封装，简化了程序员编程时消息处理的复杂性，它通过消息映射机制来处理消息，程序员不必去设计和实现自己的窗口过程。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122975503,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":1,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122977459
    },
    {
      "id": "799C74B7-330C-43BF-B63E-22A184B25297",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "PeekMessage：取得消息后，根据wRemoveMsg参数判断是否删除消息。PM_REMOVE则删除，PM_NOREMOVE不删除。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436647,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{\"focus\":1},\"indentationLevel\":0,\"listStyle\":\"bullet\",\"textStyle\":\"caption\"}",
      "blocks": [],
      "updated": 1749122811601
    },
    {
      "id": "79AF9E38-DE3A-4E66-9218-985E03E540B6",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "联系：\n在Windows的内部，GetMessage和PeekMessage执行着相同的代码，Peekmessage和Getmessage都是向系统的消息队列中取得消息，并将其放置在指定的结构。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436644,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436644
    },
    {
      "id": "7A07F6BA-1876-4887-B96C-E7AF1E5A5406",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "把 TranslateMessage转换的消息发送到窗口的消息处理函数，此函数在窗口注册时已经指定。\n首先，GetMessage从进程的主线程的消息队列中获取一个消息并将它复制到MSG结构，如果队列中没有消息，则GetMessage函数将等待一个消息的到来以后才返回。如果你将一个窗口句柄作为第二个参数传入GetMessage，那么只有指定窗口的的消息可以从队列中获得。GetMessage也可以从消息队列中过滤消息只接受消息队列中落在范围内的消息。这时候就要利用GetMessage／PeekMessage指定一个消息过滤器。这个过滤器是一个消息标识符的范围或者是一个窗体句柄，或者两者同时指定。当应用程序要查找一个后入消息队列的消息是很有用。WM_KEYFIRST 和 WM_KEYLAST 常量用于接受所有的键盘消息。 WM_MOUSEFIRST 和 WM_MOUSELAST 常量用于接受所有的鼠标消息。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436656,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436656
    },
    {
      "id": "7C173838-1D1D-436D-97D6-E9DCF13B065D",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "控件通知消息， 这是最灵活的消息格式， 其Message, wParam, lParam分别为：WM_NOTIFY, 控件ID，指向NMHDR的指针。NMHDR包含控件通知的内容， 可以任意扩展。 ",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122101422,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":4,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122233797
    },
    {
      "id": "7F42C9C7-8E40-456C-BC1C-7B98128BA36C",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "DispatchMessage（分派消息）:",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436655,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436655
    },
    {
      "id": "800C5473-8258-49A7-A208-ADCC2694282D",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "The PeekMessage function normally does not remove WM_PAINT messages from the queue. WM_PAINT messages remain in the queue until they are processed. However, if a WM_PAINT message has a null update region, PeekMessage does remove it from the queue.",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436647,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436647
    },
    {
      "id": "812DA8BB-291E-4D1F-B8E1-0B7475087F19",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "Windows消息机制【Area】",
      "pageStyleData": "{\"background\":{\"size\":\"full\",\"solidColor\":\"#f7f9f7\",\"type\":\"solid\"},\"isMirrored\":true,\"pageWidthType\":\"true\",\"styleId\":\"luki\"}",
      "rawProperties": "{\"coverImageEnabled\":\"false\",\"hasBeenPagifiedBefore\":\"1\"}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574434292,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{\"block\":1,\"focus\":1},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"pageRegular\"}",
      "blocks": [
        "3188D98C-5EC0-48BB-A3BF-CD24D6EBDFD9",
        "39CD8B09-B37B-434A-969C-AA1DD18B49A1",
        "864D0DF5-35B2-44B4-A192-A4A3D987B687",
        "D192E9C3-EB66-4CEF-AE20-A06E46C6E1CF",
        "BFA04770-F735-43BC-901A-757E4FF49A4D",
        "E97D91CD-8D27-49C9-BD7C-102ADFB2CFDF",
        "982098D1-409B-4C59-A7A3-C419C8C6F913",
        "4AC455B2-36AB-46BF-8A9B-A0C4621A2F1D",
        "237280AA-7DAF-417F-B215-B7B172C098A7",
        "F75724CE-094D-407A-91FF-A2992CF798BA",
        "9FACDF6E-BE37-4E82-85C5-B4470961072E",
        "F33CF3FF-EA01-4997-97C3-BD472CE1FC99",
        "4F287477-FB6D-4E04-ACD9-31D98A82D9E9",
        "CC82F065-1D46-4D12-80DD-729BDEA3B693",
        "88825D5D-5965-481A-80D8-759D6919807C",
        "EEC2CD62-8545-4702-9FFE-ADAE922AD9D8",
        "D42E4DE2-0184-4668-A633-FA927904B826",
        "1C69B77B-BC81-4289-90DE-8A1B3B1BFD8D",
        "AE600BFE-218E-4D6F-B676-79C4014246D4",
        "58E0CEF2-6316-4841-80AF-D8EF6111AA87",
        "0627A023-320B-437E-824B-3EE13815BCB8",
        "D624B50C-C7B5-400A-B760-1772FD0A7E3D",
        "82A51925-100A-40BF-B122-3590D53A4FB6",
        "947E52F0-219A-4550-B569-61AF7A8758E2",
        "3127DAD6-6D73-46DC-A61B-108A5AF2845F",
        "DB9C9EBD-C334-4A8B-A073-7B81FBF284A8",
        "8A5365FF-802F-4DCC-A627-CC56E0D8A825",
        "DCE5EC36-6DDA-4D8C-9954-8733A6F99883",
        "472845E8-DDD0-41EA-A019-D0B6CFF6CE68",
        "7C173838-1D1D-436D-97D6-E9DCF13B065D",
        "6694AB12-786F-4B60-BC90-E9D2AD7C02B4",
        "4C71335C-E155-44F2-A717-756F8616C79A",
        "B8861882-840C-4335-9102-EAD0BD6C41B8",
        "923FCB44-326A-4F27-9DE9-93860C483442",
        "EEEED2B2-828D-4A6A-B259-ABFE1CA7BD49",
        "F4460167-1AE2-4725-8487-33076DF79661",
        "778E4441-1A2E-4B21-9AD1-F638885961CE",
        "9C1BD09E-7B07-40E6-AA1F-2100B73423B3",
        "8794044E-CEF9-45CB-B273-C65C215564E4",
        "21B8341D-87EE-4BCF-914C-093FF47D49A8",
        "2FA3BAA2-6CD1-42AF-8568-8BB45D22B254",
        "F3B9B45A-AD5B-4F85-AA99-836ACC5CD999",
        "BF022FF9-C58C-4DA1-AA62-58B60A4CED32",
        "666A879F-EA70-47CD-9823-95DF5163A38E",
        "18748549-3AF8-45CD-B503-B5A2059E7751",
        "0735D960-4658-4CB9-9D33-EBCCE06F0B71",
        "CD3E46DE-1C96-48C8-AC8D-13EAA1E95449",
        "F0E9F15F-BF66-467F-87BA-C152AC3F10AE",
        "A1D38A1B-8650-444A-B85F-B276B3340F64",
        "286D73DC-505A-4C4C-9A07-24CE2E63F5B0",
        "3BB612A9-06A5-439A-A29E-394DA91F144E",
        "5A2FA6D0-2F91-4BA1-814B-B07D5A139EE3",
        "E568ED5B-0CB3-416A-8914-C4BB78CA2B2A",
        "00386B07-CCD5-4B09-93C2-2104C56527A9",
        "9ADF3A16-576D-4AAD-A2AF-7DFC6A959DDA",
        "0CC6C67C-9B7D-441A-85AE-22EBED18ABD9",
        "EAC2DAD3-FDD7-4993-A78F-591D6E073BDE",
        "EE349BD1-76CD-426A-93BE-E387EF3F08BF",
        "6C11AC0B-67A4-45A3-9800-FDF1E1CAB33D",
        "2C11B3CA-480B-4367-97BE-307970BB2506",
        "BD24B9FF-3E47-42D4-84DE-16272C3E6A18",
        "3E4BC6F1-3350-43A1-A882-DAE2BB908FD4",
        "3044F2E5-E62C-45D6-8DFA-7949F747D3CD",
        "62DF7973-AE6F-4045-AC6E-B7C4EB929B82",
        "AD547481-C3A2-4868-8BAC-DFAAB0F47456",
        "BA97775E-4F23-4A8B-B18C-5983920062C6",
        "41494930-4783-4C17-8356-BB6DE687EE06",
        "F7295EE2-EB74-4895-86BE-8693423D085B",
        "A0DBEA3A-4EF4-4D49-86B7-82522DCB32F8",
        "44080E97-78D4-4F77-A6B2-22033E1ADFBA",
        "D700BE1F-0112-47C5-B1E8-EB43FB83F307",
        "CFBA6619-FE95-49FC-919C-B70B64B47B17",
        "8E131457-5D8B-4E89-B6BD-891FAFD3C4B0",
        "EC7968EB-B7B5-4A77-95E0-9190DA0E867D",
        "79AF9E38-DE3A-4E66-9218-985E03E540B6",
        "2E3390CD-0452-496F-A7D3-A7F81EAFA119",
        "D0150044-49C9-4B6F-BA7E-66B47DA5FE8D",
        "A6BC4249-BDCB-4CEA-A784-C6FDB11DAFD6",
        "894FA841-2643-4018-A441-76630EB43CA8",
        "799C74B7-330C-43BF-B63E-22A184B25297",
        "800C5473-8258-49A7-A208-ADCC2694282D",
        "479DD777-7DEE-4981-B665-E2E1C5601B08",
        "4BD710FD-672F-4993-A3EB-0BA8691FACB7",
        "B9F4C854-ABF1-420B-ADAC-9F2C122BB765",
        "942183C3-BDE4-44CD-858A-43517CE7EC2C",
        "AD4BD302-546E-4552-B773-A0F9D8D9D177",
        "B5AB026B-F2CB-4945-B334-BCE8F33365EF",
        "752D1F6E-32D6-405B-8CDD-21A9219E74F0",
        "8A8A1F91-5A6A-4215-AA5B-B34E3F70A5C8",
        "52EFBE32-3B72-4DD2-9E4B-644292297E02",
        "4BD2B88F-7E43-4617-A8B7-9E755FDFF943",
        "E56FFAB3-9084-4D03-8B3D-8D2BEC00FA46",
        "5DF86159-A0B9-4D6C-9967-59EDB978EECA",
        "547CD8A2-9CB1-4950-949F-5ED9BCB2A68C",
        "0D2DA2D8-F3D9-49EF-9604-3EC689EF381C",
        "9FA3E98B-2613-467E-BF1E-673500FCB48F",
        "7F42C9C7-8E40-456C-BC1C-7B98128BA36C",
        "7A07F6BA-1876-4887-B96C-E7AF1E5A5406",
        "971405D5-AC42-4A81-869C-DD5E9A2E0F8B",
        "ECC8E7A1-380A-496F-9E86-E8C896D7FA65",
        "2B92DB7A-4C16-40E0-B23C-DE6B33E9A434",
        "794D9970-826B-4389-892E-FC5A1F8DEAB7",
        "9EF8184F-C16B-4D0F-9629-4B4CF1822E78",
        "FA7CA22F-72A9-42C9-B740-2FD76325727B",
        "63A4362A-5F9D-4E8B-B605-B54A727E2E3B",
        "CF4EEF0D-D5AD-42A0-9631-40D870C2A919",
        "A55DDD71-76A7-47AE-BBF1-5FFB8CF2CCF0",
        "55B5843F-31DE-4D98-9FAA-FBD6C070A139",
        "037DEE48-6620-43F5-BCE4-4FB673760A39",
        "0218C188-4727-458A-9176-95369C706C4E",
        "369ED3E6-2014-47AF-8BCA-612640675B9F",
        "C1BE238C-C4F4-4976-84E0-DDEED488FA17",
        "E44F4BE7-FB76-46F4-B83C-855F0FF357A5",
        "2ECB6DAE-1FC5-446B-8071-3388DDD9B6B6",
        "0F6FF576-39F3-46C3-9B7A-21F0A6EDD865",
        "9AED96FE-B1CF-4686-BA0B-9D644B3122CB",
        "9D5C63BF-7D13-4067-8D7C-988FF5DB5D4E",
        "574826BE-B2FF-4714-AE06-0F61FF463F9D",
        "E991BBE1-2FED-401F-AC5B-41D287C44AA7"
      ],
      "pageStyleProps": "{\"color\":\"#1F2225 #F4F4F4\",\"backdrop\":\"#f7f9f7 #f7f9f7\",\"theme-id\":\"3C07060B-6733-42A8-B033-C8EC0A19272D\",\"card-assets\":\"none\",\"font-family\":\"system\",\"page-width-type\":\"true\",\"separator-style\":\"line\",\"background-color\":\"#FFFFFF #222222\"}",
      "updated": 1750335636741
    },
    {
      "id": "82A51925-100A-40BF-B122-3590D53A4FB6",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "1> 窗口消息(Windows Message)",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436616,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":2,\"listStyle\":\"bullet\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122213153
    },
    {
      "id": "864D0DF5-35B2-44B4-A192-A4A3D987B687",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "得到应用程序的句柄（GetMouduleHandle，一个程序被加载进内存之后，被称为一个模块，代表着这个文件中所有的代码和资源，取这个模块的句柄方便以后操作这个应用程序）。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436605,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isCode\":true,\"range\":[10,16]}],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":1}",
      "blocks": [],
      "updated": 1687574436605
    },
    {
      "id": "8794044E-CEF9-45CB-B273-C65C215564E4",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": " 这是一个系统唯一的Queue，设备驱动(mouse, keyboard)会把操作输入转化成消息存在系统队列中，然后系统会把此消息放到目标窗口所在的线程的消息队列(thread-specific message queue)中等待处理 ",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122281563,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":1,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122284346
    },
    {
      "id": "88825D5D-5965-481A-80D8-759D6919807C",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "消息系统对于一个win32程序来说十分重要，它是一个程序运行的动力源泉。一个消息，是系统定义的一个32位的值，他唯一的定义了一个事件，向Windows发出一个通知，告诉应用程序某个事情发生了。例如，单击鼠标、改变窗口尺寸、按下键盘上的一个键都会使Windows发送一个消息给应用程序。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436612,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436612
    },
    {
      "id": "894FA841-2643-4018-A441-76630EB43CA8",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "GetMessage：取得消息后，删除除WM_PAINT消息以外的消息。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436646,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{\"focus\":1},\"indentationLevel\":0,\"listStyle\":\"bullet\",\"textStyle\":\"caption\"}",
      "blocks": [],
      "updated": 1749122811600
    },
    {
      "id": "8A5365FF-802F-4DCC-A627-CC56E0D8A825",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "与处理用户请求有关， 如单击菜单项或工具栏或控件时， 就会产生命令消息。 ",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122076142,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":4,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122237503
    },
    {
      "id": "8A8A1F91-5A6A-4215-AA5B-B34E3F70A5C8",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": " 我们一般所接触到的消息都是发送给窗口的， 其实， 消息的接收者可以是多种多样的，它可以是应用程序(applications), 可安装驱动(installable drivers), 网络设备(network drivers), 系统级设备驱动(system-level device drivers)等， ",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122901616,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":1,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122903104
    },
    {
      "id": "8E131457-5D8B-4E89-B6BD-891FAFD3C4B0",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "我们也可以说，PeekMessage是一个具有线程异步行为的函数，不管消息队列中是否有消息，函数都会立即返回。而GetMessage则是一个具有线程同步行为的函数，如果消息队列中没有消息的话，函数就会一直等待，直到消息队列中至少有一条消息时才返回。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436643,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436643
    },
    {
      "id": "923FCB44-326A-4F27-9DE9-93860C483442",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "WM_APP(winver> 4.0): 0x8000-0xBFFF (ex.WM_APP+4)",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436622,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":2,\"listStyle\":\"bullet\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122213158
    },
    {
      "id": "942183C3-BDE4-44CD-858A-43517CE7EC2C",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "消息死锁（Message Deadlocks）",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436649,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isBold\":true,\"isCode\":false,\"isItalic\":false,\"isStrikethrough\":false,\"range\":[0,23]}],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":8}",
      "blocks": [],
      "updated": 1749122874041
    },
    {
      "id": "947E52F0-219A-4550-B569-61AF7A8758E2",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "与窗口的内部运作有关，如创建窗口，绘制窗口，销毁窗口等。可以是一般的窗口，也可以是Dialog,控件等。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122029544,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":4,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122240791
    },
    {
      "id": "971405D5-AC42-4A81-869C-DD5E9A2E0F8B",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "然后TranslateAccelerator判断该消息是不是一个按键消息并且是一个加速键消息，如果是，则该函数将把几个按键消息转换成一个加速键消息传递给窗口的回调函数。处理了加速键之后，函数TranslateMessage将把两个按键消息WM_KEYDOWN和WM_KEYUP转换成一个 WM_CHAR，不过需要注意的是，消息WM_KEYDOWN,WM_KEYUP仍然将传递给窗口的回调函数。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436656,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436656
    },
    {
      "id": "982098D1-409B-4C59-A7A3-C419C8C6F913",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "刷新窗口客户区（UpdateWindow）。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436607,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isCode\":true,\"range\":[8,12]}],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":5}",
      "blocks": [],
      "updated": 1687574436607
    },
    {
      "id": "9ADF3A16-576D-4AAD-A2AF-7DFC6A959DDA",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "https://secure-res.craft.do/v2/EDHMbkhRZis5s4t2DRLHB42B9pNj6rMVQkM6TFXrHCD4iGibvgr5AE7kddVeGcDfBxyAVB63vYGJRr4KEEW8oRRPro87sZ6eYGLm5RSNNWzroT3Za9cwqP1TaKboYMTUzauE85cHK7pufq8TBj5nYuRDMJC7mhzT7Nj1z7pYx3GkNJ4sgADKsnNdhcUXVFUASFtonzNhPqzYTfGsD71o96M2nHbffBFqkjNqeMU4du9F7Ek4X2ACy7HnZV8kw8hMqjVJi6jLe7HoKfHbJvfssNjsaHSEuPtudBaL747bFBtT3Q1uM9",
      "pageStyleData": "{}",
      "rawProperties": "{\"aspectRatio\":\"1.2538860103626943\",\"fileExtension\":\"tiff\",\"fileName\":\"Image.tiff\",\"isPreviewImageUploaded\":\"true\",\"mimeType\":\"image/tiff\",\"previewImageWidth\":\"484.0\",\"primaryColor\":\"16777215\",\"rawDataSize\":\"564750\",\"rawUrl\":\"https://secure-res.craft.do/v2/EDHMbkhRZis5s4t2DRLHB42B9pNj6rMVQkM6TFXrHCD3AZVsNkUjq4fmL4oiHKgtUrhjvMqqntBDJRopzmTUpNsBUs3CzTiZ6BRoUNCJ9iHLMJ2zD8mPRDTp7MCk1b3JznsGbB79coBWwhugw8JVEQR8baBZAuhBd1FKnRTf5Y1shvtXMRfgg8haR2scb9h8pKDwqg6pCAtnbLg6MUt3zQNGAZq8K3LvejF63Grt3eXhnKuueDA8dMDVNe6tAujc58nhTJJwQztN6pLWCxXkSvj3WiJA5HHiA86hT7KRHmEZR88hbi/Image.jpg\",\"uploaded\":\"true\",\"url\":\"https://secure-res.craft.do/v2/EDHMbkhRZis5s4t2DRLHB42B9pNj6rMVQkM6TFXrHCD4iGibvgr5AE7kddVeGcDfBxyAVB63vYGJRr4KEEW8oRRPro87sZ6eYGLm5RSNNWzroT3Za9cwqP1TaKboYMTUzauE85cHK7pufq8TBj5nYuRDMJC7mhzT7Nj1z7pYx3GkNJ4sgADKsnNdhcUXVFUASFtonzNhPqzYTfGsD71o96M2nHbffBFqkjNqeMU4du9F7Ek4X2ACy7HnZV8kw8hMqjVJi6jLe7HoKfHbJvfssNjsaHSEuPtudBaL747bFBtT3Q1uM9/Image.jpg\"}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574578095,
      "type": "image",
      "style": "{\"decorations\":{},\"decorationStyles\":{},\"imageFillStyle\":\"scaleAspectFit\",\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574582120
    },
    {
      "id": "9AED96FE-B1CF-4686-BA0B-9D644B3122CB",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "打开ClassWizard，类名为CMyEdit，Messages处选中“=WM_CTLCOLOR”，您是否发现，WM_CTLCOLOR消息前面有一个等号，它表示该消息是反射消息，也就是说，前面有等号的消息是可以反射的消息。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436668,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436668
    },
    {
      "id": "9C1BD09E-7B07-40E6-AA1F-2100B73423B3",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "系统消息队列(System Message Queue)",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436624,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":1}",
      "blocks": [],
      "updated": 1687574436624
    },
    {
      "id": "9D5C63BF-7D13-4067-8D7C-988FF5DB5D4E",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "消息反射函数代码如下：",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436669,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436669
    },
    {
      "id": "9EF8184F-C16B-4D0F-9629-4B4CF1822E78",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "说白了，MFC中的消息映射机制实质是一张巨大的消息及其处理函数对应表。消息映射基本上分为两大部分：",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436660,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436660
    },
    {
      "id": "9FA3E98B-2613-467E-BF1E-673500FCB48F",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "也就是说TranslateMessage会发现消息里是否有字符键的消息，如果有字符键的消息，就会产生WM_CHAR消息，如果没有就会产生什么消息。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436655,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436655
    },
    {
      "id": "9FACDF6E-BE37-4E82-85C5-B4470961072E",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "Windows的系统内部有个系统消息队列，当用户当用户按下某个键、鼠标移动或者拖动窗口时，windows都会产生相应的记录放在消息队列里。每个记录中包含着消息的类型、发生的位置和发生的时间等。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436609,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436609
    },
    {
      "id": "A0DBEA3A-4EF4-4D49-86B7-82522DCB32F8",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "GetMessage, PeekMessage",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436641,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isBold\":true,\"range\":[0,23]}],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":2}",
      "blocks": [],
      "updated": 1687574436641
    },
    {
      "id": "A1D38A1B-8650-444A-B85F-B276B3340F64",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "队列消息和非队列消息的区别：",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436630,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122437054
    },
    {
      "id": "A55DDD71-76A7-47AE-BBF1-5FFB8CF2CCF0",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "通常，添加处理函数声明的最好的地方是源代码中Class Wizard维护的表的下面，在它标记其领域的\\{\\{ \\}\\}括弧外面。这些括弧中的任何东西都有可能会被Class Wizard销毁。\n2）接着，在用户类的.cpp文件中找到//}}AFX_MSG_MAP行，紧接在它之后加入消息入口项。同样，也放在\\{\\{ \\}\\}外面。\n3)最后，在该文件中添加消息处理函数的实体。\n对于能够使用Class Wizard添加的消息，尽量使用Class Wizard添加，以减少我们的工作量；对于不能使用Class Wizard添加的消息和自定义消息，需要手动添加。总体说来，MFC的消息编程对用户来说，相对比较简单，在此不再使用实例演示。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436663,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isCode\":true,\"range\":[50,9]},{\"isCode\":true,\"range\":[152,9]}],\"decorations\":{\"focus\":1},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436663
    },
    {
      "id": "A6BC4249-BDCB-4CEA-A784-C6FDB11DAFD6",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "GetMessage：有消息时且消息不为WM_QUIT时返回TRUE，如果有消息且为WM_QUIT则返回FALSE，没有消息时不返回。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436646,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{\"focus\":1},\"indentationLevel\":0,\"listStyle\":\"bullet\",\"textStyle\":\"caption\"}",
      "blocks": [],
      "updated": 1749122811599
    },
    {
      "id": "AD4BD302-546E-4552-B773-A0F9D8D9D177",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "假设有线程A和B， 现在有以下下步骤\n1) 线程A SendMessage给线程B, A等待消息在线程B中处理后返回\n2) 线程B收到了线程A发来的消息，并进行处理， 在处理过程中，B也向线程A SendMessgae，然后等待从A返回。  因为此时， 线程A正等待从线程B返回， 无法处理B发来的消息， 从而导致了线程A,B相互等待， 形成死锁。多个线程也可以形成环形死锁。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436650,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436650
    },
    {
      "id": "AD547481-C3A2-4868-8BAC-DFAAB0F47456",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "c、不同线程： SendMessage 发送消息到目标窗口的消息队列，然后发送消息的线程在USER32。DLL模块内监视和等待消息的处理结果，直到目标窗口的才处理返回，SendMessage在返回之前还需要做许多工作，如响应别的线程向它发送的SendMessage().PostMessge() 到别的线程的时候最好使用PostThreadMessage   代替。PostMessage()的HWND 参数可以为NULL，相当于PostThreadMessage() + GetCrrentThreadId.",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436638,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122722160
    },
    {
      "id": "AE600BFE-218E-4D6F-B676-79C4014246D4",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "消息可以由系统或者应用程序产生。系统在发生输入事件时产生消息。举个例子, 当用户敲键, 移动鼠标或者单击控件。系统也产生消息以响应由应用程序带来的变化, 比如应用程序改变系统字体，改变窗体大小。应用程序可以产生消息使窗体执行任务，或者与其他应用程序中的窗口通讯。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436614,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436614
    },
    {
      "id": "B5AB026B-F2CB-4945-B334-BCE8F33365EF",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "可以使用 SendNotifyMessage或SendMessageTimeout来避免出现死锁。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436650,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436651
    },
    {
      "id": "B8861882-840C-4335-9102-EAD0BD6C41B8",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "WM_USER: 0x0400-0x7FFF      (ex. WM_USER+10)",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436622,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":2,\"listStyle\":\"bullet\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122213158
    },
    {
      "id": "B9F4C854-ABF1-420B-ADAC-9F2C122BB765",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "TranslateMessage: 把一个virtual-key消息转化成字符消息(character message)，并放到当前线程的消息队列中，消息循环下一次取出处理。\nTranslateAccelerator: 将快捷键对应到相应的菜单命令。它会把WM_KEYDOWN 或 WM_SYSKEYDOWN转化成快捷键表中相应的WM_COMMAND 或WM_SYSCOMMAND消息， 然后把转化后的 WM_COMMAND或WM_SYSCOMMAND直接发送到窗口过程处理， 处理完后才会返回。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122847773,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":1,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122862769
    },
    {
      "id": "BA97775E-4F23-4A8B-B18C-5983920062C6",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "d、系统处理消息。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436639,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436640
    },
    {
      "id": "BD24B9FF-3E47-42D4-84DE-16272C3E6A18",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "a、 PostMessage 是异步的，SendMessage 是同步的。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436636,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436636
    },
    {
      "id": "BF022FF9-C58C-4DA1-AA62-58B60A4CED32",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "队列消息(Queued Messages)和非队列消息(Non-Queued Messages)",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436627,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isBold\":true,\"isCode\":false,\"isItalic\":false,\"isStrikethrough\":false,\"range\":[0,48]}],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":4}",
      "blocks": [],
      "updated": 1749122345667
    },
    {
      "id": "BFA04770-F735-43BC-901A-757E4FF49A4D",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "建立窗口（CreateWindow）。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436606,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isCode\":true,\"range\":[5,12]}],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":3}",
      "blocks": [],
      "updated": 1687574436606
    },
    {
      "id": "C1BE238C-C4F4-4976-84E0-DDEED488FA17",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "实例M8：简单地演示MFC的消息反射机制。（见附带源码 工程M8）",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436666,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"bullet\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436666
    },
    {
      "id": "CC82F065-1D46-4D12-80DD-729BDEA3B693",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "消息",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436611,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isBold\":true,\"isCode\":false,\"isItalic\":false,\"isStrikethrough\":false,\"range\":[0,2]}],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":1}",
      "blocks": [],
      "updated": 1749121911576
    },
    {
      "id": "CD3E46DE-1C96-48C8-AC8D-13EAA1E95449",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "消息会绕过系统消息队列和线程消息队列直接发送到窗口过程被处理  如： WM_ACTIVATE, WM_SETFOCUS, WM_SETCURSOR， WM_WINDOWPOSCHANGED ",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122404093,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":2,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122407565
    },
    {
      "id": "CF4EEF0D-D5AD-42A0-9631-40D870C2A919",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "但是仅是这两项还不足以完成一条消息，要是一个消息工作，必须还有以下3个部分去协作：\n1、在类的定义中加入相应的函数声明；\n2、在类的消息映射表中加入相应的消息映射入口项；\n3、在类的实现中加入相应的函数体；\n消息的添加\n（1）、利用Class Wizard实现自动添加\n在菜单中选择View -> Class Wizard激活Class Wizard，选择Message Map标签，从Class name组合框中选取我们想要添加消息的类。在Object IDs列表框中，选取类的名称。此时，Messages列表框显示该类的可重载成员函数和窗口消息。可重载成员函数显示在列表的上部，以实际虚构成员函数的大小写字母来表示。其他为窗口消息，以大写字母出现。选中我们要添加的消息，单击Add Funtion按钮，Class Wizard自动将该消息添加进来。\n有时候，我们想要添加的消息在Message列表中找不到，我们可以利用Class Wizard上Class Info标签以扩展消息列表。在该页中，找到Message Filter组合框，通过它可以改变首页中Messages列表框中的选项。\n（2）、手动添加消息\n如果Messages列表框中确实没有我们想要的消息，就需要我们手工添加：\n1）在类的.h文件中添加处理函数的声明，紧接着在//}}AFX_MSG行之后加入声明，注意，一定要以afx_msg开头。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436662,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{\"focus\":1},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436662
    },
    {
      "id": "CFBA6619-FE95-49FC-919C-B70B64B47B17",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "PeekMessage和GetMessage函数的主要区别有：\na. GetMessage的主要功能是从消息队列中“取出”消息，消息被取出以后，就从消息队列中将其删除；而PeekMessage的主要功能是“窥视”消息，如果有消息，就返回true，否则返回false。也可以使用PeekMessage从消息队列中取出消息，这要用到它的一个参数（UINT wRemoveMsg），如果设置为PM_REMOVE，消息则被取出并从消息队列中删除；如果设置为PM_NOREMOVE，消息就不会从消息队列中取出。\nb. 如果GetMessage从消息队列中取不到消息，则线程就会被操作系统挂起，等到OS重新调度该线程时，两者的性质不同：使用GetMessage线程仍会被挂起，使用PeekMessage线程会得到CPU的控制权，运行一段时间。\nc. GetMessage每次都会等待消息，直到取到消息才返回；而PeekMessage只是查询消息队列，没有消息就立即返回，从返回值判断是否取到了消息。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436643,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122791023
    },
    {
      "id": "D0150044-49C9-4B6F-BA7E-66B47DA5FE8D",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "PeekMessage：有消息时返回TRUE，没有消息返回FALSE",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436645,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{\"focus\":1},\"indentationLevel\":0,\"listStyle\":\"bullet\",\"textStyle\":\"caption\"}",
      "blocks": [],
      "updated": 1749122811599
    },
    {
      "id": "D192E9C3-EB66-4CEF-AE20-A06E46C6E1CF",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "注册窗口类（RegisterClassEx），在注册之前，要先填写RegisterClassEX的参数WNDCLASSEX结构。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436605,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isCode\":true,\"range\":[6,15]},{\"isCode\":true,\"range\":[33,15]},{\"isCode\":true,\"range\":[51,10]}],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":2}",
      "blocks": [],
      "updated": 1687574436606
    },
    {
      "id": "D42E4DE2-0184-4668-A633-FA927904B826",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "Windows中声明如下：",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436613,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436613
    },
    {
      "id": "D624B50C-C7B5-400A-B760-1772FD0A7E3D",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "在SDK中事先定义好的消息，非用户定义的，其范围在[0x0000, 0x03ff]之间， 可以分为以下三类：",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749121973303,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":2,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122249269
    },
    {
      "id": "D700BE1F-0112-47C5-B1E8-EB43FB83F307",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "GetMessage在有消息时返回  会删除消息",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436642,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{\"focus\":1},\"indentationLevel\":0,\"listStyle\":\"bullet\",\"textStyle\":\"caption\"}",
      "blocks": [],
      "updated": 1749122769941
    },
    {
      "id": "DB9C9EBD-C334-4A8B-A073-7B81FBF284A8",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "2> 命令消息(Command Message)",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436618,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":2,\"listStyle\":\"bullet\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122213155
    },
    {
      "id": "DCE5EC36-6DDA-4D8C-9954-8733A6F99883",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "WM_COMMAND, LOWORD(wParam)表示菜单项，工具栏按钮或控件的ID。如果是控件, HIWORD(wParam)表示控件消息类型",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436619,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":4,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122239027
    },
    {
      "id": "E44F4BE7-FB76-46F4-B83C-855F0FF357A5",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "打开开VC++ 6.0，新建一个基于对话框的工程M8。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436666,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"bullet\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436666
    },
    {
      "id": "E568ED5B-0CB3-416A-8914-C4BB78CA2B2A",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "https://secure-res.craft.do/v2/EDHMbkhRZis5s4t2DRLHB42B9pNj6rMVQkM6TFXrHCD4iGibvgr5AE7kddVeGcDfBxyAVB63vYGJRr4KEEW8oRRPro87sZ6eYGLm5RSNNWzroT3Za9cwqP1TaKboYMTUzauE85cHK7pufq8TBj5nYuRDN2AuXSy4U7hjuQj5wEFmZAALDpWH2m41gyRdnswyxQbQyB1r59y2v2KmD8ke8fcuzydrExMwH9kQBtZBRvzNV9buZMPWoFQDqnHEqnpDVnZNALfAe9SdWfEwxsERpWwfZCzo2PCNeGPQ2fWZ6DW3vXoZPF",
      "pageStyleData": "{}",
      "rawProperties": "{\"aspectRatio\":\"2.132701421800948\",\"fileExtension\":\"tiff\",\"fileName\":\"Image.tiff\",\"isPreviewImageUploaded\":\"true\",\"mimeType\":\"image/tiff\",\"previewImageWidth\":\"450.0\",\"primaryColor\":\"14737632\",\"rawDataSize\":\"289112\",\"rawUrl\":\"https://secure-res.craft.do/v2/EDHMbkhRZis5s4t2DRLHB42B9pNj6rMVQkM6TFXrHCD3AZVsNkUjq4fmL4oiHKgtUrhjvMqqntBDJRopzmTUpNsBUs3CzTiZ6BRoUNCJ9iHLMJ2zD8mPRDTp7MCk1b3JznsGbB79coBWwhugw8JVEQR8bNnxhYGZMDSJanCm5zZL3AfyDrCUv574P43DKRcKL82NJC91N8G13DcoavY7kTgpNvVH5XBeGnYtvGpvT4p7r7Am2QHYGTXvwPezo6WoyfaZ6eESJLw4X4vzEjWu1zreQm3qwvqHTcSveRhywC59taKcCQ/Image.jpg\",\"uploaded\":\"true\",\"url\":\"https://secure-res.craft.do/v2/EDHMbkhRZis5s4t2DRLHB42B9pNj6rMVQkM6TFXrHCD4iGibvgr5AE7kddVeGcDfBxyAVB63vYGJRr4KEEW8oRRPro87sZ6eYGLm5RSNNWzroT3Za9cwqP1TaKboYMTUzauE85cHK7pufq8TBj5nYuRDN2AuXSy4U7hjuQj5wEFmZAALDpWH2m41gyRdnswyxQbQyB1r59y2v2KmD8ke8fcuzydrExMwH9kQBtZBRvzNV9buZMPWoFQDqnHEqnpDVnZNALfAe9SdWfEwxsERpWwfZCzo2PCNeGPQ2fWZ6DW3vXoZPF/Image.jpg\"}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574562774,
      "type": "image",
      "style": "{\"decorations\":{},\"decorationStyles\":{},\"imageFillStyle\":\"scaleAspectFit\",\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574570046
    },
    {
      "id": "E56FFAB3-9084-4D03-8B3D-8D2BEC00FA46",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "接下来我们谈一下消息的处理，首先我们来看一下VC中的消息泵：",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122920468,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":1,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122921444
    },
    {
      "id": "E97D91CD-8D27-49C9-BD7C-102ADFB2CFDF",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "显示窗口（ShowWindow）。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436606,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isCode\":true,\"range\":[5,10]}],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":4}",
      "blocks": [],
      "updated": 1687574436607
    },
    {
      "id": "E991BBE1-2FED-401F-AC5B-41D287C44AA7",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "在IDD_M8_DIALOG对话框中添加一个Edit控件，使用ClassWizard给该Edit控件添加一个CMyEdit类型的变量m_edit1，把Edit控件和CMyEdit关联起来。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436670,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436670
    },
    {
      "id": "EAC2DAD3-FDD7-4993-A78F-591D6E073BDE",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "PostMessage(PostThreadMessage), SendMessage",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436635,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isBold\":true,\"isCode\":false,\"isItalic\":false,\"isStrikethrough\":false,\"range\":[0,43]}],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":5}",
      "blocks": [],
      "updated": 1749122592408
    },
    {
      "id": "EC7968EB-B7B5-4A77-95E0-9190DA0E867D",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "如果消息队列中没有消息，PeekMessage总是能返回，这就相当于在执行一个循环，如果消息队列一直为空， 它就进入了一个死循环。GetMessage则不可能因为消息队列为空而进入死循环。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436644,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436644
    },
    {
      "id": "ECC8E7A1-380A-496F-9E86-E8C896D7FA65",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "处理完之后，DispatchMessage函数将把此消息发送给该消息指定的窗口中已设定的回调函数。如果消息是WM_QUIT，则 GetMessage返回0，从而退出循环体。应用程序可以使用PostQuitMessage来结束自己的消息循环。通常在主窗口的 WM_DESTROY消息中调用。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436657,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436657
    },
    {
      "id": "EE349BD1-76CD-426A-93BE-E387EF3F08BF",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "PostMessage:把消息放到指定窗口所在的线程消息队列中后立即返回。 PostThreadMessage：把消息放到指定线程的消息队列中后立即返回。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1749122514513,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorationStyles\":{},\"decorations\":{\"focus\":1},\"indentationLevel\":1,\"listStyle\":\"bullet\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122546940
    },
    {
      "id": "EEC2CD62-8545-4702-9FFE-ADAE922AD9D8",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "消息本身是作为一个记录传递给应用程序的，这个记录中包含了消息的类型以及其他信息。例如，对于单击鼠标所产生的消息来说，这个记录中包含了单击鼠标时的坐标。这个记录类型叫做MSG，MSG含有来自windows应用程序消息队列的消息信息，它在",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436612,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436612
    },
    {
      "id": "EEEED2B2-828D-4A6A-B259-ABFE1CA7BD49",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "RegisterWindowMessage: 0xC000-0xFFFF",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436623,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436623
    },
    {
      "id": "F0E9F15F-BF66-467F-87BA-C152AC3F10AE",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "注意: postMessage发送的消息是队列消息，它会把消息Post到消息队列中； SendMessage发送的消息是非队列消息， 被直接送到窗口过程处理.",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436630,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"highlightColor\":\"#ff9898 #ff8686\",\"isBold\":false,\"isCode\":false,\"isItalic\":false,\"isStrikethrough\":false,\"range\":[0,4]}],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122414641
    },
    {
      "id": "F33CF3FF-EA01-4997-97C3-BD472CE1FC99",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "typedef struct tagMSG {\n HWND        hwnd;\n UINT        message;\n WPARAM      wParam;\n LPARAM      lParam;\n DWORD       time;\n POINT       pt;\n#ifdef _MAC\n DWORD       lPrivate;\n#endif\n} MSG, *PMSG, NEAR *NPMSG, FAR *LPMSG;",
      "rawProperties": "{\"language\":\"cpp\"}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436610,
      "type": "code",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436610
    },
    {
      "id": "F3B9B45A-AD5B-4F85-AA99-836ACC5CD999",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "注意： 线程消息队列中WM_PAINT，WM_TIMER只有在Queue中没有其他消息的时候才会被处理，WM_PAINT消息还会被合并以提高效率。其他所有消息以先进先出（FIFO）的方式被处理。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436626,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"highlightColor\":\"#ff9898 #ff8686\",\"isBold\":false,\"isCode\":false,\"isItalic\":false,\"isStrikethrough\":false,\"range\":[0,3]}],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1749122316751
    },
    {
      "id": "F4460167-1AE2-4725-8487-33076DF79661",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "消息队列(Message Queues)",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436623,
      "type": "text",
      "style": "{\"_runAttributes\":[{\"isBold\":true,\"isCode\":false,\"isItalic\":false,\"isStrikethrough\":false,\"range\":[0,20]}],\"decorationStyles\":{},\"decorations\":{},\"indentationLevel\":0,\"listStyle\":\"numbered\",\"textStyle\":\"body\",\"userDefinedListNumber\":3}",
      "blocks": [],
      "updated": 1749122270820
    },
    {
      "id": "F7295EE2-EB74-4895-86BE-8693423D085B",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "e、在Windows 2000/XP,每个消息队列最多只能存放一定数量的消息，超过的将不会被处理就丢掉。系统默认是10000；：[HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Windows] USERPostMessageLimit",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436640,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436641
    },
    {
      "id": "F75724CE-094D-407A-91FF-A2992CF798BA",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "当用户按下某个键、鼠标移动或者拖动窗口等都会产生消息传给应用程序，应用程序再根据不同的消息作不同的处理。",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436609,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436609
    },
    {
      "id": "FA7CA22F-72A9-42C9-B740-2FD76325727B",
      "documentId": "51F33575-D4AB-4E86-97D9-78453F5AE1AA",
      "content": "在头文件(.h)中有一个宏DECLARE_MESSAGE_MAP(),它放在类的末尾，是一个public属性的；与之对应的是在实现部分(.cpp)增加了一个消息映射表，内容如下：",
      "rawProperties": "{}",
      "createdByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "modifiedByUserId": "ff47392e-1b37-dd92-268a-2c80735d18e1",
      "created": 1687574436661,
      "type": "text",
      "style": "{\"_runAttributes\":[],\"decorations\":{},\"decorationStyles\":{},\"indentationLevel\":0,\"listStyle\":\"none\",\"textStyle\":\"body\"}",
      "blocks": [],
      "updated": 1687574436661
    }
  ],
  "inheritedPageStyle": {
    "pageWidthType": "true",
    "background": {
      "size": "full",
      "solidColor": "#f7f9f7",
      "type": "solid"
    },
    "styleId": "luki",
    "header": {}
  },
  "inheritedPageStyleProps": {
    "color": "#1F2225 #F4F4F4",
    "backdrop": "#f7f9f7 #f7f9f7",
    "theme-id": "3C07060B-6733-42A8-B033-C8EC0A19272D",
    "card-assets": "none",
    "font-family": "system",
    "page-width-type": "true",
    "separator-style": "line",
    "background-color": "#FFFFFF #222222"
  },
  "rootBlockId": "812DA8BB-291E-4D1F-B8E1-0B7475087F19",
  "settings": {
    "documentAppearance": "default",
    "hiddenLogo": false,
    "freeTier": false,
    "teamId": "e5336d46-6f5f-1acd-7266-4d0fefce8055",
    "forceSwitches": {}
  },
  "features": {
    "enabled": [
      "fs-show-title",
      "fs-enable-column-view"
    ],
    "disabled": [
      "fs-add-comment",
      "fs-view-comment",
      "fs-object-links",
      "fs-show-author",
      "fs-show-custom-logo",
      "fs-show-duplicate-as-template",
      "fs-hide-logo",
      "fs-hide-table-of-contents",
      "fs-hide-presentation-mode"
    ]
  }
}