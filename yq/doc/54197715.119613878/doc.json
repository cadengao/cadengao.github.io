{
  "uuid": "54197715.119613878",
  "id": 119613878,
  "title": "WPF-命令(ICommand)【Area】",
  "cover": "https://cdn.nlark.com/yuque/0/2023/png/123299/1679909440773-81c59a29-a873-46f6-83cd-6708d326a11a.png",
  "book_id": 54197715,
  "book_name": "Area",
  "public": 0,
  "word_count": 211,
  "created_at": "2023-03-27T09:15:40",
  "updated_at": "2024-08-22T14:47:51",
  "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><p id=\"u9fd22305\" class=\"ne-p\"><span class=\"ne-text\" style=\"font-size: 16px\">使用Command可以实现UI层跟业务层分离，不必在UI层定义事件方法，近而减少耦合。</span></p><h1 id=\"AMaXa\"><span class=\"ne-text\">开发示例</span></h1><ol class=\"ne-ol\"><li id=\"u43085ef3\" data-lake-index-type=\"0\"><span class=\"ne-text\">界面展示_UI层</span></li></ol><pre data-language=\"xml\" id=\"Owadw\" class=\"ne-codeblock language-xml\"><code>&lt;Window x:Class=&quot;WpfCommand.MainWindow&quot;\n        xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;\n        xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;\n        xmlns:d=&quot;http://schemas.microsoft.com/expression/blend/2008&quot;\n        xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;\n        xmlns:local=&quot;clr-namespace:WpfCommand&quot;\n        mc:Ignorable=&quot;d&quot;\n        Title=&quot;MainWindow&quot; Height=&quot;450&quot; Width=&quot;800&quot;&gt;\n    &lt;Grid VerticalAlignment=&quot;Center&quot;&gt;\n        &lt;StackPanel&gt;\n            &lt;TextBox Text=&quot;{Binding Name}&quot;&gt;&lt;/TextBox&gt;\n            &lt;Button  Command=&quot;{Binding ShowCommand }&quot; Content=&quot;Button&quot; Height=&quot;100&quot;&gt;&lt;/Button&gt;\n        &lt;/StackPanel&gt;\n    &lt;/Grid&gt;\n&lt;/Window&gt;</code></pre><ol start=\"2\" class=\"ne-ol\"><li id=\"u78d71509\" data-lake-index-type=\"0\"><span class=\"ne-text\" style=\"color: rgb(44, 44, 44); background-color: rgb(250, 250, 250)\">界面代码绑定数据</span></li></ol><pre data-language=\"csharp\" id=\"VpMWi\" class=\"ne-codeblock language-csharp\"><code>/// &lt;summary&gt;\n/// MainWindow.xaml 的交互逻辑\n/// &lt;/summary&gt;\npublic partial class MainWindow : Window\n{\n    public MainWindow()\n    {\n        this.DataContext = new MainViewModel();\n        InitializeComponent();\n    }\n}</code></pre><ol start=\"3\" class=\"ne-ol\"><li id=\"u7127429e\" data-lake-index-type=\"0\"><span class=\"ne-text\" style=\"color: rgb(44, 44, 44); background-color: rgb(250, 250, 250)\">新建命令类、继承ICommand</span></li></ol><pre data-language=\"csharp\" id=\"b7tNV\" class=\"ne-codeblock language-csharp\"><code>public class MyCommand : ICommand\n{\n    public event EventHandler CanExecuteChanged;\n    Action executeAction;\n    public MyCommand(Action action)\n    {\n        executeAction = action;\n    }\n    public bool CanExecute(object parameter)\n    {\n        return true;\n    }\n    public void Execute(object parameter)\n    {\n        executeAction();\n    }\n}</code></pre><ol start=\"4\" class=\"ne-ol\"><li id=\"ub4624b9b\" data-lake-index-type=\"0\"><span class=\"ne-text\" style=\"color: rgb(44, 44, 44); background-color: rgb(250, 250, 250)\">实现方法_业务层</span></li></ol><pre data-language=\"csharp\" id=\"kYJi8\" class=\"ne-codeblock language-csharp\"><code>public class MainViewModel\n{\n    public MyCommand ShowCommand { get; set; }\n    public String Name { get; set; }\n    public MainViewModel()\n    {\n        Name = &quot;Hello World&quot;;\n        ShowCommand = new MyCommand(Show);\n    }\n    public void Show()\n    {\n        Name = &quot;点击了Button&quot;;\n        MessageBox.Show(Name);\n    }\n}</code></pre><p id=\"uf2a062eb\" class=\"ne-p\"><strong><span class=\"ne-text\" style=\"color: rgb(44, 44, 44); background-color: rgb(250, 250, 250)\">示例截图</span></strong></p><p id=\"u2f681c7d\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119613878/image/0.png\" width=\"786\" id=\"u5c6675f7\" class=\"ne-image\"></p><h1 id=\"jynlv\"><span class=\"ne-text\">源码</span></h1><div id=\"kgLqd\" class=\"ne-bookmark\"><a href=\"https://svn.coding.net/cadengao/dev/demo/WpfMVVM\" target=\"_blank\">https://svn.coding.net/cadengao/dev/demo/WpfMVVM</a></div></div>"
}