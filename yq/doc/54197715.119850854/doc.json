{
  "uuid": "54197715.119850854",
  "id": 119850854,
  "title": "WPF-模板【Area】",
  "cover": "https://cdn.nlark.com/yuque/0/2023/gif/123299/1680074342509-6f673e34-ca12-45f2-bc48-2dfd72b18b36.gif",
  "book_id": 54197715,
  "book_name": "Area",
  "public": 0,
  "word_count": 2769,
  "created_at": "2023-03-29T07:11:03",
  "updated_at": "2024-10-06T14:15:05",
  "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><h1 id=\"VnBSk\"><span class=\"ne-text\">两类模板</span></h1><ul class=\"ne-ul\"><li id=\"u8cbf4c3b\" data-lake-index-type=\"0\"><span class=\"ne-text\" style=\"color: rgb(51, 51, 51); font-size: 14px\">控件模板（ControlTemplate）是算法内容的表现形式，一个控件怎么组织其内部的结构才能让它更符合业务逻辑，让用户操作更舒服，都是由她控制的。它决定了控件长什么样子，并让程序员有机会在控件原有的内部逻辑基础上扩展自己的逻辑。</span></li><li id=\"u0ce40592\" data-lake-index-type=\"0\"><span class=\"ne-text\" style=\"color: rgb(51, 51, 51); font-size: 14px\">数据模板（DataTemplate）是数据内容的表现形式，一条数据表现成什么样子，是简单的文本还是直观的图形动画就由他决定。</span></li></ul><h1 id=\"Ltfoy\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0)\">数据模板和控件模板的区别在哪？</span></h1><p id=\"uea2fe427\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">控件模板是用来修改某个控件内部的布局结构，不涉及到把一些数据（类对象）绑定到控件模板内部</span></p><p id=\"u8ed0cd31\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">数据模板是用来定义数据怎么显示，数据通常是来自数据集合，把一个数据集合和一个集合控件关联起来，如ListBox，ComboBox，ItemContcrol这种集合形式的控件，数据怎么显示其实也涉及到布局</span></p><p id=\"ub5966903\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">可以简单理解，只修改控件布局，则使用控件模板，如果想把一个集合控件关联到一个数据集合并自定义显示的方法，则使用数据模板</span></p><h1 id=\"G6KuN\"><span class=\"ne-text\">控件模板介绍</span></h1><ol data-index-type=\"1\" class=\"ne-ol\"><li id=\"u04019ba5\" data-lake-index-type=\"1\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(51, 51, 51)\">按钮控件示例</span></li></ol><p id=\"u1f049e23\" class=\"ne-p\"><span class=\"ne-text\" style=\"font-size: 14px\">效果：</span></p><p id=\"u3fa7f214\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/0.png\" width=\"271\" id=\"u348a5865\" class=\"ne-image\"></p><p id=\"u60f1c15f\" class=\"ne-p\"><span class=\"ne-text\" style=\"font-size: 14px\">控件模板和模板触发器：</span></p><p id=\"uae8c2390\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/5.png\" width=\"1305\" id=\"u9b049587\" class=\"ne-image\"></p><p id=\"u1aef02df\" class=\"ne-p\"><span class=\"ne-text\" style=\"font-size: 14px\">模板是控件的Template 属性，Template 是一个ControlTemplate对象</span></p><p id=\"uf2e2b9ac\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/6.png\" width=\"860\" id=\"uef7512ac\" class=\"ne-image\"></p><ol start=\"2\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"u40900519\" data-lake-index-type=\"1\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(51, 51, 51)\">TextBox控件：基于现有默认模板编写</span></li></ol><p id=\"u2e41bedb\" class=\"ne-p\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">效果：</span></p><p id=\"ua974222a\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/7.png\" width=\"325\" id=\"ufab42c10\" class=\"ne-image\"></p><ol class=\"ne-ol\"><li id=\"u385d1f90\" data-lake-index-type=\"0\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">两种方式编辑副本</span></li></ol><p id=\"ucd2e82a2\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/8.png\" width=\"391\" id=\"u183baf5e\" class=\"ne-image\"></p><p id=\"ub6c86d0d\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/9.png\" width=\"494\" id=\"u363d55f0\" class=\"ne-image\"></p><ol start=\"2\" class=\"ne-ol\"><li id=\"ue3ae14e3\" data-lake-index-type=\"0\"><span class=\"ne-text\">模板代码</span></li></ol><pre data-language=\"xml\" id=\"ABmQ7\" class=\"ne-codeblock language-xml\"><code>&lt;Style x:Key=&quot;UserNameTextBoxStyle&quot; TargetType=&quot;{x:Type TextBox}&quot;&gt;\n    &lt;Setter Property=&quot;Background&quot; Value=&quot;{DynamicResource {x:Static SystemColors.WindowBrushKey}}&quot;/&gt;\n    &lt;Setter Property=&quot;BorderBrush&quot; Value=&quot;{StaticResource TextBox.Static.Border}&quot;/&gt;\n    &lt;Setter Property=&quot;Foreground&quot; Value=&quot;{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}&quot;/&gt;\n    &lt;Setter Property=&quot;BorderThickness&quot; Value=&quot;1&quot;/&gt;\n    &lt;Setter Property=&quot;KeyboardNavigation.TabNavigation&quot; Value=&quot;None&quot;/&gt;\n    &lt;Setter Property=&quot;HorizontalContentAlignment&quot; Value=&quot;Left&quot;/&gt;\n    &lt;Setter Property=&quot;FocusVisualStyle&quot; Value=&quot;{x:Null}&quot;/&gt;\n    &lt;Setter Property=&quot;AllowDrop&quot; Value=&quot;true&quot;/&gt;\n    &lt;Setter Property=&quot;ScrollViewer.PanningMode&quot; Value=&quot;VerticalFirst&quot;/&gt;\n    &lt;Setter Property=&quot;Stylus.IsFlicksEnabled&quot; Value=&quot;False&quot;/&gt;\n    &lt;Setter Property=&quot;Template&quot;&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=&quot;{x:Type TextBox}&quot;&gt;\n                &lt;Border x:Name=&quot;border&quot; BorderBrush=&quot;{TemplateBinding BorderBrush}&quot; BorderThickness=&quot;{TemplateBinding BorderThickness}&quot; Background=&quot;{TemplateBinding Background}&quot; SnapsToDevicePixels=&quot;True&quot;\n                        CornerRadius=&quot;5&quot;&gt;\n                    &lt;Grid&gt;\n                        &lt;Grid.ColumnDefinitions&gt;\n                            &lt;ColumnDefinition Width=&quot;40&quot;&gt;&lt;/ColumnDefinition&gt;\n                            &lt;ColumnDefinition&gt;&lt;/ColumnDefinition&gt;\n                        &lt;/Grid.ColumnDefinitions&gt;\n                        &lt;TextBlock Text=&quot;&quot; FontFamily=&quot;../Assets/IconFont/#iconfont&quot; FontSize=&quot;20&quot; Foreground=&quot;#ddd&quot; VerticalAlignment=&quot;Center&quot; HorizontalAlignment=&quot;Center&quot;&gt;&lt;/TextBlock&gt;\n                        &lt;ScrollViewer x:Name=&quot;PART_ContentHost&quot; Grid.Column=&quot;1&quot; Focusable=&quot;false&quot;\n                                      HorizontalScrollBarVisibility=&quot;Hidden&quot;\n                                      VerticalScrollBarVisibility=&quot;Hidden&quot;\n                                      VerticalAlignment=&quot;Center&quot; MinHeight=&quot;20&quot;/&gt;\n                    &lt;/Grid&gt;\n \n                &lt;/Border&gt;\n                &lt;ControlTemplate.Triggers&gt;\n                    &lt;Trigger Property=&quot;IsEnabled&quot; Value=&quot;false&quot;&gt;\n                        &lt;Setter Property=&quot;Opacity&quot; TargetName=&quot;border&quot; Value=&quot;0.56&quot;/&gt;\n                    &lt;/Trigger&gt;\n                    &lt;Trigger Property=&quot;IsMouseOver&quot; Value=&quot;true&quot;&gt;\n                        &lt;Setter Property=&quot;BorderBrush&quot; TargetName=&quot;border&quot; Value=&quot;{StaticResource TextBox.MouseOver.Border}&quot;/&gt;\n                    &lt;/Trigger&gt;\n                    &lt;Trigger Property=&quot;IsKeyboardFocused&quot; Value=&quot;true&quot;&gt;\n                        &lt;Setter Property=&quot;BorderBrush&quot; TargetName=&quot;border&quot; Value=&quot;{StaticResource TextBox.Focus.Border}&quot;/&gt;\n                    &lt;/Trigger&gt;\n                &lt;/ControlTemplate.Triggers&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n    &lt;Style.Triggers&gt;\n        &lt;MultiTrigger&gt;\n            &lt;MultiTrigger.Conditions&gt;\n                &lt;Condition Property=&quot;IsInactiveSelectionHighlightEnabled&quot; Value=&quot;true&quot;/&gt;\n                &lt;Condition Property=&quot;IsSelectionActive&quot; Value=&quot;false&quot;/&gt;\n            &lt;/MultiTrigger.Conditions&gt;\n            &lt;Setter Property=&quot;SelectionBrush&quot; Value=&quot;{DynamicResource {x:Static SystemColors.InactiveSelectionHighlightBrushKey}}&quot;/&gt;\n        &lt;/MultiTrigger&gt;\n    &lt;/Style.Triggers&gt;\n&lt;/Style&gt;\n \n&lt;Style x:Key=&quot;PasswordBoxStyle&quot; TargetType=&quot;{x:Type PasswordBox}&quot;&gt;\n    &lt;Setter Property=&quot;PasswordChar&quot; Value=&quot;●&quot;/&gt;\n    &lt;Setter Property=&quot;Background&quot; Value=&quot;{DynamicResource {x:Static SystemColors.WindowBrushKey}}&quot;/&gt;\n    &lt;Setter Property=&quot;BorderBrush&quot; Value=&quot;{StaticResource TextBox.Static.Border}&quot;/&gt;\n    &lt;Setter Property=&quot;Foreground&quot; Value=&quot;{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}&quot;/&gt;\n    &lt;Setter Property=&quot;BorderThickness&quot; Value=&quot;1&quot;/&gt;\n    &lt;Setter Property=&quot;KeyboardNavigation.TabNavigation&quot; Value=&quot;None&quot;/&gt;\n    &lt;Setter Property=&quot;HorizontalContentAlignment&quot; Value=&quot;Left&quot;/&gt;\n    &lt;Setter Property=&quot;FocusVisualStyle&quot; Value=&quot;{x:Null}&quot;/&gt;\n    &lt;Setter Property=&quot;AllowDrop&quot; Value=&quot;true&quot;/&gt;\n    &lt;Setter Property=&quot;ScrollViewer.PanningMode&quot; Value=&quot;VerticalFirst&quot;/&gt;\n    &lt;Setter Property=&quot;Stylus.IsFlicksEnabled&quot; Value=&quot;False&quot;/&gt;\n    &lt;Setter Property=&quot;Template&quot;&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=&quot;{x:Type PasswordBox}&quot;&gt;\n                &lt;Border x:Name=&quot;border&quot; BorderBrush=&quot;{TemplateBinding BorderBrush}&quot; BorderThickness=&quot;{TemplateBinding BorderThickness}&quot; Background=&quot;{TemplateBinding Background}&quot; SnapsToDevicePixels=&quot;True&quot;\n                        CornerRadius=&quot;5&quot;&gt;\n                    &lt;Grid&gt;\n                        &lt;Grid.ColumnDefinitions&gt;\n                            &lt;ColumnDefinition Width=&quot;40&quot;&gt;&lt;/ColumnDefinition&gt;\n                            &lt;ColumnDefinition&gt;&lt;/ColumnDefinition&gt;\n                        &lt;/Grid.ColumnDefinitions&gt;\n                        &lt;TextBlock Text=&quot;&quot; FontFamily=&quot;../Assets/IconFont/#iconfont&quot; FontSize=&quot;20&quot; Foreground=&quot;#ddd&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot;&gt;&lt;/TextBlock&gt;\n                        &lt;ScrollViewer x:Name=&quot;PART_ContentHost&quot; Focusable=&quot;false&quot; Grid.Column=&quot;1&quot;\n                                  HorizontalScrollBarVisibility=&quot;Hidden&quot;\n                                  VerticalScrollBarVisibility=&quot;Hidden&quot;\n                                  VerticalAlignment=&quot;Center&quot; MinHeight=&quot;20&quot;/&gt;\n                    &lt;/Grid&gt;\n                &lt;/Border&gt;\n                &lt;ControlTemplate.Triggers&gt;\n                    &lt;Trigger Property=&quot;IsEnabled&quot; Value=&quot;false&quot;&gt;\n                        &lt;Setter Property=&quot;Opacity&quot; TargetName=&quot;border&quot; Value=&quot;0.56&quot;/&gt;\n                    &lt;/Trigger&gt;\n                    &lt;Trigger Property=&quot;IsMouseOver&quot; Value=&quot;true&quot;&gt;\n                        &lt;Setter Property=&quot;BorderBrush&quot; TargetName=&quot;border&quot; Value=&quot;{StaticResource TextBox.MouseOver.Border}&quot;/&gt;\n                    &lt;/Trigger&gt;\n                    &lt;Trigger Property=&quot;IsKeyboardFocused&quot; Value=&quot;true&quot;&gt;\n                        &lt;Setter Property=&quot;BorderBrush&quot; TargetName=&quot;border&quot; Value=&quot;{StaticResource TextBox.Focus.Border}&quot;/&gt;\n                    &lt;/Trigger&gt;\n                &lt;/ControlTemplate.Triggers&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n    &lt;Style.Triggers&gt;\n        &lt;MultiTrigger&gt;\n            &lt;MultiTrigger.Conditions&gt;\n                &lt;Condition Property=&quot;IsInactiveSelectionHighlightEnabled&quot; Value=&quot;true&quot;/&gt;\n                &lt;Condition Property=&quot;IsSelectionActive&quot; Value=&quot;false&quot;/&gt;\n            &lt;/MultiTrigger.Conditions&gt;\n            &lt;Setter Property=&quot;SelectionBrush&quot; Value=&quot;{DynamicResource {x:Static SystemColors.InactiveSelectionHighlightBrushKey}}&quot;/&gt;\n        &lt;/MultiTrigger&gt;\n    &lt;/Style.Triggers&gt;\n&lt;/Style&gt;\n \n&lt;Style x:Key=&quot;ValidationCodeTextBoxStyle&quot; TargetType=&quot;{x:Type TextBox}&quot;&gt;\n    &lt;Setter Property=&quot;Background&quot; Value=&quot;{DynamicResource {x:Static SystemColors.WindowBrushKey}}&quot;/&gt;\n    &lt;Setter Property=&quot;BorderBrush&quot; Value=&quot;{StaticResource TextBox.Static.Border}&quot;/&gt;\n    &lt;Setter Property=&quot;Foreground&quot; Value=&quot;{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}&quot;/&gt;\n    &lt;Setter Property=&quot;BorderThickness&quot; Value=&quot;1&quot;/&gt;\n    &lt;Setter Property=&quot;KeyboardNavigation.TabNavigation&quot; Value=&quot;None&quot;/&gt;\n    &lt;Setter Property=&quot;HorizontalContentAlignment&quot; Value=&quot;Left&quot;/&gt;\n    &lt;Setter Property=&quot;FocusVisualStyle&quot; Value=&quot;{x:Null}&quot;/&gt;\n    &lt;Setter Property=&quot;AllowDrop&quot; Value=&quot;true&quot;/&gt;\n    &lt;Setter Property=&quot;ScrollViewer.PanningMode&quot; Value=&quot;VerticalFirst&quot;/&gt;\n    &lt;Setter Property=&quot;Stylus.IsFlicksEnabled&quot; Value=&quot;False&quot;/&gt;\n    &lt;Setter Property=&quot;Template&quot;&gt;\n        &lt;Setter.Value&gt;\n            &lt;ControlTemplate TargetType=&quot;{x:Type TextBox}&quot;&gt;\n                &lt;Border x:Name=&quot;border&quot; BorderBrush=&quot;{TemplateBinding BorderBrush}&quot; BorderThickness=&quot;{TemplateBinding BorderThickness}&quot; Background=&quot;{TemplateBinding Background}&quot; SnapsToDevicePixels=&quot;True&quot;\n                        CornerRadius=&quot;5&quot;&gt;\n                    &lt;Grid&gt;\n                        &lt;Grid.ColumnDefinitions&gt;\n                            &lt;ColumnDefinition Width=&quot;40&quot;&gt;&lt;/ColumnDefinition&gt;\n                            &lt;ColumnDefinition Width=&quot;188&quot;&gt;&lt;/ColumnDefinition&gt;\n                            &lt;ColumnDefinition Width=&quot;80&quot;&gt;&lt;/ColumnDefinition&gt;\n                        &lt;/Grid.ColumnDefinitions&gt;\n                        &lt;TextBlock Text=&quot;&quot; FontFamily=&quot;../Assets/IconFont/#iconfont&quot; FontSize=&quot;20&quot; Foreground=&quot;#ddd&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot;&gt;&lt;/TextBlock&gt;\n                        &lt;ScrollViewer x:Name=&quot;PART_ContentHost&quot; Focusable=&quot;false&quot; Grid.Column=&quot;1&quot;\n                                      HorizontalScrollBarVisibility=&quot;Hidden&quot;\n                                      VerticalScrollBarVisibility=&quot;Hidden&quot;\n                                      VerticalAlignment=&quot;Center&quot; MinHeight=&quot;20&quot;/&gt;\n                        &lt;Image Source=&quot;../Assets/Images/验证码.jpg&quot; Grid.Column=&quot;2&quot;/&gt;\n                    &lt;/Grid&gt;\n                &lt;/Border&gt;\n                &lt;ControlTemplate.Triggers&gt;\n                    &lt;Trigger Property=&quot;IsEnabled&quot; Value=&quot;false&quot;&gt;\n                        &lt;Setter Property=&quot;Opacity&quot; TargetName=&quot;border&quot; Value=&quot;0.56&quot;/&gt;\n                    &lt;/Trigger&gt;\n                    &lt;Trigger Property=&quot;IsMouseOver&quot; Value=&quot;true&quot;&gt;\n                        &lt;Setter Property=&quot;BorderBrush&quot; TargetName=&quot;border&quot; Value=&quot;{StaticResource TextBox.MouseOver.Border}&quot;/&gt;\n                    &lt;/Trigger&gt;\n                    &lt;Trigger Property=&quot;IsKeyboardFocused&quot; Value=&quot;true&quot;&gt;\n                        &lt;Setter Property=&quot;BorderBrush&quot; TargetName=&quot;border&quot; Value=&quot;{StaticResource TextBox.Focus.Border}&quot;/&gt;\n                    &lt;/Trigger&gt;\n                &lt;/ControlTemplate.Triggers&gt;\n            &lt;/ControlTemplate&gt;\n        &lt;/Setter.Value&gt;\n    &lt;/Setter&gt;\n    &lt;Style.Triggers&gt;\n        &lt;MultiTrigger&gt;\n            &lt;MultiTrigger.Conditions&gt;\n                &lt;Condition Property=&quot;IsInactiveSelectionHighlightEnabled&quot; Value=&quot;true&quot;/&gt;\n                &lt;Condition Property=&quot;IsSelectionActive&quot; Value=&quot;false&quot;/&gt;\n            &lt;/MultiTrigger.Conditions&gt;\n            &lt;Setter Property=&quot;SelectionBrush&quot; Value=&quot;{DynamicResource {x:Static SystemColors.InactiveSelectionHighlightBrushKey}}&quot;/&gt;\n        &lt;/MultiTrigger&gt;\n    &lt;/Style.Triggers&gt;\n&lt;/Style&gt;</code></pre><ol start=\"3\" class=\"ne-ol\"><li id=\"u4a2685f5\" data-lake-index-type=\"0\"><span class=\"ne-text\">引用目标样式</span></li></ol><p id=\"u7a20f69f\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/10.png\" width=\"1336\" id=\"u64f54632\" class=\"ne-image\"></p><ol start=\"3\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"uad8b82ae\" data-lake-index-type=\"1\"><span class=\"ne-text\">字体图标</span></li></ol><ol class=\"ne-list-wrap\"><ol ne-level=\"1\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"u2cb630f2\" data-lake-index-type=\"1\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">从 www.iconfont.cn 下载字体图标</span></li></ol></ol><p id=\"u387b570d\" class=\"ne-p\" style=\"text-indent: 2em\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/1.png\" width=\"1909\" id=\"ua7606f1a\" class=\"ne-image\"></p><ol class=\"ne-list-wrap\"><ol start=\"2\" ne-level=\"1\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"uc15f0a1b\" data-lake-index-type=\"1\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">下载下来的.ttf文件复制到项目资源文件夹中：</span></li></ol></ol><p id=\"uac085109\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/2.png\" width=\"1909\" id=\"u4595f7cb\" class=\"ne-image\"></p><ol class=\"ne-list-wrap\"><ol start=\"3\" ne-level=\"1\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"uec58a91b\" data-lake-index-type=\"1\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">使用： </span><code class=\"ne-code\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">&lt;Button Height=&quot;40&quot; Width=&quot;40&quot; Content=&quot;&amp;#xe61b;&quot; FontFamily=&quot;../Assets/IconFont/#iconfont&quot; FontSize=&quot;12&quot; /&gt;</span></code></li></ol></ol><p id=\"ub03928a5\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/11.png\" width=\"1421\" id=\"uaeecc358\" class=\"ne-image\"></p><ol class=\"ne-list-wrap\"><ol start=\"4\" ne-level=\"1\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"ua2a30288\" data-lake-index-type=\"1\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">注意：如果是新ttf文件替换旧的，如果新增的图标没反应，就重启VS</span></li></ol></ol><ol start=\"4\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"u178e26aa\" data-lake-index-type=\"1\"><span class=\"ne-text\">统一样式修改</span></li></ol><p id=\"u104b190b\" class=\"ne-p\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0)\">效果:</span></p><p id=\"ude59f569\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/3.png\" width=\"334\" id=\"ue8266c05\" class=\"ne-image\"></p><p id=\"ub99a9982\" class=\"ne-p\"><span class=\"ne-text\">代码：</span></p><p id=\"u5d80741e\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/12.png\" width=\"901\" id=\"ua918f916\" class=\"ne-image\"></p><ol start=\"5\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"ucb2eba7d\" data-lake-index-type=\"1\"><span class=\"ne-text\">字典资源</span></li></ol><ol class=\"ne-list-wrap\"><ol ne-level=\"1\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"u8508316b\" data-lake-index-type=\"1\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">新建一个字典资源</span></li></ol></ol><p id=\"u3a9cc1c5\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/13.png\" width=\"1301\" id=\"uafb1eb3f\" class=\"ne-image\"></p><ol class=\"ne-list-wrap\"><ol start=\"2\" ne-level=\"1\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"ufbb3d264\" data-lake-index-type=\"1\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">引用资源</span></li></ol></ol><p id=\"u5078d280\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/14.png\" width=\"1311\" id=\"u495dab24\" class=\"ne-image\"></p><ol class=\"ne-list-wrap\"><ol start=\"3\" ne-level=\"1\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"ucc020b15\" data-lake-index-type=\"1\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">使用资源</span></li></ol></ol><p id=\"ufb4e82f1\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/15.png\" width=\"1321\" id=\"u42f88534\" class=\"ne-image\"></p><ol class=\"ne-list-wrap\"><ol start=\"4\" ne-level=\"1\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"u59ee8dfc\" data-lake-index-type=\"1\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">如果按钮的样式都一样，可以把按钮的大小，字体颜色都写入资源中</span></li></ol></ol><p id=\"ue121d82a\" class=\"ne-p\" style=\"text-indent: 2em; margin-left: 2em\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">优化后的资源代码：</span></p><p id=\"u6cf52d73\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/16.png\" width=\"1120\" id=\"u77e55ae3\" class=\"ne-image\"></p><ol class=\"ne-list-wrap\"><ol start=\"5\" ne-level=\"1\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"u03c9ec60\" data-lake-index-type=\"1\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">设置按钮的代码就更简洁了</span></li></ol></ol><p id=\"u89a21e17\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/17.png\" width=\"1061\" id=\"u3ba9e008\" class=\"ne-image\"></p><ol start=\"6\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"ud0a30ea3\" data-lake-index-type=\"1\"><span class=\"ne-text\">合并资源</span></li></ol><p id=\"uf04aebf5\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/18.png\" width=\"900\" id=\"u1cf4cace\" class=\"ne-image\"></p><pre data-language=\"xml\" id=\"Ipv3h\" class=\"ne-codeblock language-xml\"><code>&lt;Window.Resources&gt;\n    &lt;ResourceDictionary &gt;\n        &lt;!--合并资源--&gt;\n        &lt;ResourceDictionary.MergedDictionaries&gt;\n            &lt;!--这是引入默认的资源--&gt;\n            &lt;ResourceDictionary Source=&quot;../Assets/Styles/DefaultStyle.xaml&quot; &gt;&lt;/ResourceDictionary&gt;\n            &lt;!--这是针对当前RadioButton的资源样式--&gt;\n            &lt;ResourceDictionary&gt;\n                &lt;Style TargetType=&quot;RadioButton&quot; x:Key=&quot;NavButtonStyle&quot;&gt;\n                    &lt;Setter Property=&quot;Foreground&quot; Value=&quot;White&quot;&gt;&lt;/Setter&gt;\n                    &lt;Setter Property=&quot;Template&quot; &gt;\n                        &lt;Setter.Value&gt;\n                            &lt;ControlTemplate TargetType=&quot;RadioButton&quot;&gt;\n                                &lt;Border Background=&quot;Transparent&quot; CornerRadius=&quot;8&quot; Name=&quot;Back&quot;&gt;\n                                    &lt;ContentControl Content=&quot;{TemplateBinding Content}&quot; VerticalAlignment=&quot;Center&quot; HorizontalAlignment=&quot;Center&quot; Margin=&quot;20,4&quot;&gt;&lt;/ContentControl&gt;\n                                &lt;/Border&gt;\n                                &lt;!--设置选中的时候的状态--&gt;\n                                &lt;ControlTemplate.Triggers&gt;\n                                    &lt;Trigger Property=&quot;IsChecked&quot; Value=&quot;True&quot;&gt;\n                                        &lt;Setter TargetName=&quot;Back&quot; Property=&quot;Background&quot; Value=&quot;#44ffffff&quot;&gt;&lt;/Setter&gt;\n                                    &lt;/Trigger&gt;\n                                &lt;/ControlTemplate.Triggers&gt;\n                            &lt;/ControlTemplate&gt;\n                        &lt;/Setter.Value&gt;\n                    &lt;/Setter&gt;\n                &lt;/Style&gt;\n            &lt;/ResourceDictionary&gt;\n        &lt;/ResourceDictionary.MergedDictionaries&gt;\n    &lt;/ResourceDictionary&gt;\n&lt;/Window.Resources&gt;</code></pre><ol start=\"7\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"u3fbbeed1\" data-lake-index-type=\"1\"><span class=\"ne-text\">搜索框模板和效果</span></li></ol><ol class=\"ne-list-wrap\"><ol ne-level=\"1\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"u524ca09a\" data-lake-index-type=\"1\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">效果</span></li></ol></ol><p id=\"u4976d089\" class=\"ne-p\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/4.png\" width=\"354\" id=\"u2167bdad\" class=\"ne-image\"></p><ol class=\"ne-list-wrap\"><ol start=\"2\" ne-level=\"1\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"ua7966f60\" data-lake-index-type=\"1\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">TextBox模板</span></li></ol></ol><pre data-language=\"xml\" id=\"QZFZk\" class=\"ne-codeblock language-xml\"><code>&lt;!--控件模板--&gt;\n&lt;ControlTemplate TargetType=&quot;{x:Type TextBox}&quot; x:Key=&quot;SearchTextBoxTemplate&quot;&gt;\n    &lt;Border x:Name=&quot;border&quot; BorderBrush=&quot;{TemplateBinding BorderBrush}&quot; BorderThickness=&quot;{TemplateBinding BorderThickness}&quot;\n    Background=&quot;{TemplateBinding Background}&quot; SnapsToDevicePixels=&quot;True&quot;\n    CornerRadius=&quot;10&quot;&gt;\n        &lt;Grid&gt;\n            &lt;Grid.ColumnDefinitions&gt;\n                &lt;ColumnDefinition Width=&quot;30&quot;&gt;&lt;/ColumnDefinition&gt;\n                &lt;ColumnDefinition&gt;&lt;/ColumnDefinition&gt;\n            &lt;/Grid.ColumnDefinitions&gt;\n            &lt;TextBlock Text=&quot;&quot; FontFamily=&quot;../Assets/IconFont/#iconfont&quot; VerticalAlignment=&quot;Center&quot; HorizontalAlignment=&quot;Center&quot;\n               Foreground=&quot;#44ffffff&quot; FontSize=&quot;16&quot;&gt;&lt;/TextBlock&gt;\n            &lt;!--默认有内容的时候，显示&quot;请输入搜索内容...&quot;--&gt;\n            &lt;TextBlock Text=&quot;请输入搜索内容...&quot; Grid.Column=&quot;1&quot; VerticalAlignment=&quot;Center&quot; Name=&quot;mt&quot; Visibility=&quot;Collapsed&quot;&gt;&lt;/TextBlock&gt;\n            &lt;ScrollViewer Grid.Column=&quot;1&quot; x:Name=&quot;PART_ContentHost&quot; Focusable=&quot;false&quot; HorizontalScrollBarVisibility=&quot;Hidden&quot; VerticalScrollBarVisibility=&quot;Hidden&quot;\n               VerticalAlignment=&quot;Center&quot;/&gt;\n        &lt;/Grid&gt;\n    &lt;/Border&gt;\n    &lt;ControlTemplate.Triggers&gt;\n        &lt;Trigger Property=&quot;IsEnabled&quot; Value=&quot;false&quot;&gt;\n            &lt;Setter Property=&quot;Opacity&quot; TargetName=&quot;border&quot; Value=&quot;0.56&quot;/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=&quot;IsMouseOver&quot; Value=&quot;true&quot;&gt;\n            &lt;Setter Property=&quot;BorderBrush&quot; TargetName=&quot;border&quot; Value=&quot;{StaticResource TextBox.MouseOver.Border}&quot;/&gt;\n        &lt;/Trigger&gt;\n        &lt;Trigger Property=&quot;IsKeyboardFocused&quot; Value=&quot;true&quot;&gt;\n            &lt;Setter Property=&quot;BorderBrush&quot; TargetName=&quot;border&quot; Value=&quot;{StaticResource TextBox.Focus.Border}&quot;/&gt;\n        &lt;/Trigger&gt;\n        &lt;!--绑定到本身的Text属性上--&gt;\n        &lt;!--没内容的时候Value=&quot;&quot;，显示这个mt的属性（显示：&quot;请输入搜索内容...&quot;--&gt;\n        &lt;DataTrigger Binding=&quot;{Binding Text,RelativeSource={RelativeSource Self}}&quot; Value=&quot;&quot;&gt;\n            &lt;Setter TargetName=&quot;mt&quot; Property=&quot;Visibility&quot; Value=&quot;Visible&quot;&gt;&lt;/Setter&gt;\n        &lt;/DataTrigger&gt;\n    &lt;/ControlTemplate.Triggers&gt;\n&lt;/ControlTemplate&gt;</code></pre><ol class=\"ne-list-wrap\"><ol start=\"3\" ne-level=\"1\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"u66909693\" data-lake-index-type=\"1\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 13px\">TextBox 绑定模板</span></li></ol></ol><pre data-language=\"xml\" id=\"HI10j\" class=\"ne-codeblock language-xml\"><code>&lt;!--绑定模板：Template=&quot;{StaticResource SearchTextBoxTemplate}--&gt;\n&lt;TextBox Grid.Row=&quot;1&quot; HorizontalAlignment=&quot;Right&quot; VerticalAlignment=&quot;Center&quot; Width=&quot;300&quot; Height=&quot;32&quot; Template=&quot;{StaticResource SearchTextBoxTemplate}&quot;\n         Background=&quot;#22000000&quot; Text=&quot;{Binding SearchText }&quot; Foreground=&quot;White&quot; &gt;\n&lt;/TextBox&gt;</code></pre><ol start=\"8\" data-index-type=\"1\" class=\"ne-ol\"><li id=\"ufac8b72e\" data-lake-index-type=\"1\"><span class=\"ne-text\">单选框数据绑定</span></li></ol><p id=\"u04c84c7c\" class=\"ne-p\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); background-color: rgb(254, 254, 242); font-size: 13px\">引入命名空间</span></p><pre data-language=\"xml\" id=\"IOCOJ\" class=\"ne-codeblock language-xml\"><code>xmlns:converter=&quot;clr-namespace:Zhaoxi.CourseManagement.Converter&quot;</code></pre><pre data-language=\"xml\" id=\"iv0qg\" class=\"ne-codeblock language-xml\"><code>&lt;!--在资源里面定义一下，调用的时候就调用这个genderConverter--&gt;\n&lt;converter:GenderConverter x:Key=&quot;genderConverter&quot;/&gt;</code></pre><pre data-language=\"xml\" id=\"p6j8t\" class=\"ne-codeblock language-xml\"><code>&lt;!--RadioButton控件模板--&gt;\n&lt;ControlTemplate TargetType=&quot;RadioButton&quot; x:Key=&quot;GenderRadioButtonTemplate&quot;&gt;\n    &lt;Grid&gt;\n        &lt;!--1个RadioButton有2列--&gt;\n        &lt;Grid.ColumnDefinitions&gt;\n            &lt;ColumnDefinition Width=&quot;Auto&quot;/&gt;\n            &lt;ColumnDefinition/&gt;\n        &lt;/Grid.ColumnDefinitions&gt;\n        &lt;!--默认情况下隐藏Visibility=&quot;Collapsed&quot;--&gt;\n        &lt;Border Width=&quot;14&quot; Height=&quot;14&quot; CornerRadius=&quot;7&quot; BorderThickness=&quot;1&quot; BorderBrush=&quot;#007dea&quot; VerticalAlignment=&quot;Top&quot; Margin=&quot;5,0,0,0&quot;&gt;\n            &lt;Border Width=&quot;8&quot; Height=&quot;8&quot; CornerRadius=&quot;4&quot; Background=&quot;White&quot; Name=&quot;point&quot; Visibility=&quot;Collapsed&quot;/&gt;\n        &lt;/Border&gt;\n        &lt;!--第2列，文字部分--&gt;\n        &lt;ContentControl Grid.Column=&quot;1&quot; Content=&quot;{TemplateBinding Content}&quot; Margin=&quot;5,0,0,0&quot;&gt;&lt;/ContentControl&gt;\n    &lt;/Grid&gt;\n    &lt;ControlTemplate.Triggers&gt;\n        &lt;!--如果IsChecked，显示Name为point的标签--&gt;\n        &lt;Trigger Property=&quot;IsChecked&quot; Value=&quot;True&quot;&gt;\n            &lt;Setter Property=&quot;Visibility&quot; Value=&quot;Visible&quot; TargetName=&quot;point&quot;&gt;&lt;/Setter&gt;\n        &lt;/Trigger&gt;\n    &lt;/ControlTemplate.Triggers&gt;\n&lt;/ControlTemplate&gt;</code></pre><pre data-language=\"xml\" id=\"AYSdN\" class=\"ne-codeblock language-xml\"><code>&lt;Grid Grid.Row=&quot;1&quot; Margin=&quot;20,0&quot;&gt;\n    &lt;!--统一样式设定--&gt;\n    &lt;Grid.Resources&gt;\n        &lt;!--所有TextBlock前景色白色,如果没有反应，就把white删除在编辑下就好--&gt;\n        &lt;Style TargetType=&quot;TextBlock&quot;&gt;\n            &lt;Setter Property=&quot;Foreground&quot; Value=&quot;White&quot;/&gt;\n            &lt;Setter Property=&quot;FontSize&quot; Value=&quot;14&quot;/&gt;\n        &lt;/Style&gt;                          \n        &lt;!--所有RadioButton前景色白色--&gt;\n        &lt;Style TargetType=&quot;RadioButton&quot;&gt;\n            &lt;Setter Property=&quot;Foreground&quot; Value=&quot;White&quot;/&gt;\n        &lt;/Style&gt;\n    &lt;/Grid.Resources&gt;\n    &lt;Grid.RowDefinitions&gt;\n        &lt;RowDefinition Height=&quot;40&quot;/&gt;\n        &lt;RowDefinition Height=&quot;40&quot;/&gt;\n        &lt;RowDefinition Height=&quot;40&quot;/&gt;\n        &lt;RowDefinition Height=&quot;40&quot;/&gt;\n    &lt;/Grid.RowDefinitions&gt;\n    &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;\n        &lt;TextBlock Text=&quot;用户名：&quot;/&gt;\n        &lt;TextBlock Text=&quot;{Binding UserInfo.UserName}&quot; Margin=&quot;10,0,0,0&quot;/&gt;\n    &lt;/StackPanel&gt;\n    &lt;StackPanel Orientation=&quot;Horizontal&quot; Grid.Row=&quot;1&quot;&gt;\n        &lt;TextBlock Text=&quot;性   别：&quot;/&gt;\n        &lt;!--调用资源genderConverter--&gt;\n        &lt;RadioButton Content=&quot;男&quot; Margin=&quot;10,0,0,0&quot; Template=&quot;{StaticResource GenderRadioButtonTemplate}&quot;\n                    IsChecked=&quot;{Binding UserInfo.Gender,Converter={StaticResource genderConverter},ConverterParameter=1}&quot; /&gt;\n        &lt;RadioButton Content=&quot;女&quot; Margin=&quot;10,0,0,0&quot; Template=&quot;{StaticResource GenderRadioButtonTemplate}&quot;\n                     IsChecked=&quot;{Binding UserInfo.Gender,Converter={StaticResource genderConverter},ConverterParameter=2}&quot;/&gt;\n    &lt;/StackPanel&gt;\n&lt;/Grid&gt;</code></pre><pre data-language=\"csharp\" id=\"Sl3XX\" class=\"ne-codeblock language-csharp\"><code>class GenderConverter : IValueConverter\n{\n    /// &lt;summary&gt;\n    /// modle向view转换\n    /// &lt;/summary&gt;\n    /// &lt;param name=&quot;value&quot;&gt;model的值&lt;/param&gt;\n    /// &lt;param name=&quot;targetType&quot;&gt;&lt;/param&gt;\n    /// &lt;param name=&quot;parameter&quot;&gt;前端传入的值&lt;/param&gt;\n    /// &lt;param name=&quot;culture&quot;&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        if (value == null || parameter == null)\n        {\n            return false;\n        }\n\n        return value.ToString() == parameter.ToString();\n        //比如：UserInfo.Gender=1，ConverterParameter=1，范围true\n    }\n\n    /// &lt;summary&gt;\n    /// view向modle转换，点击RadioButton触发这个事件\n    /// &lt;/summary&gt;\n    /// &lt;param name=&quot;value&quot;&gt;&lt;/param&gt;\n    /// &lt;param name=&quot;targetType&quot;&gt;&lt;/param&gt;\n    /// &lt;param name=&quot;parameter&quot;&gt;&lt;/param&gt;\n    /// &lt;param name=&quot;culture&quot;&gt;&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)\n    {\n        return parameter;\n    }\n}</code></pre><p id=\"u7b8348a7\" class=\"ne-p\"><br></p><p id=\"u4cd72287\" class=\"ne-p\"><br></p><h1 id=\"z3LE4\"><span class=\"ne-text\">数据模板介绍</span></h1><p id=\"ud95ac74a\" class=\"ne-p\"><span class=\"ne-text\" style=\"color: rgb(51, 51, 51); font-size: 14px\">DataTemplate常用在下面情况下：</span></p><ul class=\"ne-ul\"><li id=\"u0ba4e4ed\" data-lake-index-type=\"0\"><span class=\"ne-text\" style=\"color: rgb(51, 51, 51); font-size: 14px\">ContentControl的ContentTemplate属性，相当与给ContentControl的内容穿衣服</span></li><li id=\"u85dfedfa\" data-lake-index-type=\"0\"><span class=\"ne-text\" style=\"color: rgb(51, 51, 51); font-size: 14px\">ItemsControl 的ItemTemplate属性，相当于给ItemsControl的数据条目穿衣服</span></li><li id=\"u942b94d4\" data-lake-index-type=\"0\"><span class=\"ne-text\" style=\"color: rgb(51, 51, 51); font-size: 14px\">GridViewColumn的CellTemplate属性，相当于给GridViewColumn的单元格的数据穿衣服</span></li></ul><p id=\"ucdc68196\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">举个简单的例子，定义一个集合控件ListBox，其中每个数据项是一个TextBlock，TextBlock的Text属性的值 来自一个数据集合List&lt;string&gt;</span></p><p id=\"u146f8c62\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">先定义一个简单的数据模板</span></p><p id=\"uccd0eb1a\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">Xaml代码：</span></p><pre data-language=\"xml\" id=\"IeO8r\" class=\"ne-codeblock language-xml\"><code>&lt;ListBox ItemsSource=&quot;{Binding list}&quot;&gt;\n            &lt;ListBox.ItemTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;TextBlock Text=&quot;{Binding}&quot;/&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/ListBox.ItemTemplate&gt;\n&lt;/ListBox&gt;</code></pre><p id=\"u0e5bcf08\" class=\"ne-p\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">MainWindow代码：</span></p><pre data-language=\"csharp\" id=\"BwLjv\" class=\"ne-codeblock language-csharp\"><code>public partial class MainWindow : Window\n{\n   public List&lt;string&gt; list { get; set; } = new List&lt;string&gt;();\n    public MainWindow()\n    {\n        InitializeComponent();\n       \n        list.Add(&quot;111&quot;);\n        list.Add(&quot;222&quot;);\n        list.Add(&quot;333&quot;);\n        list.Add(&quot;444&quot;);\n        this.DataContext = this;\n    }\n}</code></pre><p id=\"ue7135ffb\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">运行结果：</span></p><p id=\"u05598606\" class=\"ne-p\" style=\"text-align: left\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/19.png\" width=\"632\" id=\"u98339818\" class=\"ne-image\" style=\"color: rgb(0, 0, 0); font-size: 14px\"></p><p id=\"ue89cb5dd\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">其中的逻辑关系如下：</span></p><p id=\"u25da6142\" class=\"ne-p\" style=\"text-align: left\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/20.png\" width=\"727\" id=\"u87972e2d\" class=\"ne-image\" style=\"color: rgb(0, 0, 0); font-size: 14px\"></p><p id=\"u2fad52a7\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">每一个ListBoxitem对应一条数据。listboxitem是动态生成的，数据集合list中有多少条数据，listbox就会生成多少个listboxitem。</span></p><p id=\"u1cb785a6\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">（当然如果想要实现添加数据，UI界面自动更新，需要使用带有通知功能的ObservableCollection代替list）</span></p><p id=\"u0dfd1393\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">重点是 为什么说数据模板可以定义数据怎么显示？</span></p><p id=\"u155681a8\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">还是上面的例子，我们定义了一个简单的数据模板</span></p><pre data-language=\"xml\" id=\"cdqit\" class=\"ne-codeblock language-xml\"><code>&lt;DataTemplate&gt;\n　　&lt;TextBlock Text=&quot;{Binding}&quot;/&gt;\n&lt;/DataTemplate&gt;</code></pre><p id=\"u13e46fd7\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">这时候，每个ListboxItem实际是一个TextBlock，在数据集合list不做任何更改的情况下，我们可以修改数据模板，让数据集合中的数据显示成别的方式，</span></p><p id=\"u9619fc19\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">比如：把listboxitem改成button</span></p><p id=\"u6c15d695\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">数据模板代码：</span></p><pre data-language=\"xml\" id=\"ClfuG\" class=\"ne-codeblock language-xml\"><code>&lt;ListBox ItemsSource=&quot;{Binding list}&quot;&gt;\n   　　&lt;ListBox.ItemTemplate&gt;\n    　　　　&lt;DataTemplate&gt;\n     　　　　　　&lt;!--&lt;TextBlock Text=&quot;{Binding}&quot;/&gt;--&gt;\n             　　&lt;Button Content=&quot;{Binding}&quot;/&gt;\n           &lt;/DataTemplate&gt;\n       &lt;/ListBox.ItemTemplate&gt;\n&lt;/ListBox&gt;</code></pre><p id=\"u9a0a9f9e\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">运行结果：</span></p><p id=\"u44dfad38\" class=\"ne-p\" style=\"text-align: left\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/21.png\" width=\"415\" id=\"u5f70538f\" class=\"ne-image\" style=\"color: rgb(0, 0, 0); font-size: 14px\"></p><p id=\"ud6410d54\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">在数据模板中可以做任何布局，从而实现让数据有各种各样的显示形式</span></p><p id=\"uf775ee0b\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">再比如：</span></p><pre data-language=\"xml\" id=\"K05ak\" class=\"ne-codeblock language-xml\"><code>&lt;ListBox ItemsSource=&quot;{Binding list}&quot;&gt;\n    &lt;ListBox.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;\n                &lt;TextBlock Text=&quot;每一行都是数据模板的数据&quot;/&gt;\n                &lt;Button Content=&quot;{Binding}&quot;/&gt;\n                &lt;Button Content=&quot;{Binding}&quot;/&gt;\n                &lt;TextBox Text=&quot;{ Binding Path=.}&quot;/&gt;\n            &lt;/StackPanel&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ListBox.ItemTemplate&gt;\n&lt;/ListBox&gt;</code></pre><p id=\"u9ceb44a0\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">结果：</span></p><p id=\"u2b9d5b1f\" class=\"ne-p\" style=\"text-align: left\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/22.png\" width=\"528\" id=\"u3a779937\" class=\"ne-image\" style=\"color: rgb(0, 0, 0); font-size: 14px\"></p><p id=\"uc7b804d0\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">这就是数据模板的作用，可以让数据以任意形式显示。</span></p><p id=\"ua74859ac\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">一个地方需要理解一下：</span></p><p id=\"u8b7a3625\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">对于一个集合控件，定义的数据模板是针对每个集合控件的子项来说的。是每个子项的数据模板。或者说，集合控件在生成子项时，根据定义好的数据模板去定义出每个子项。</span></p><p id=\"ud7a01eec\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">复杂数据集合的例子</span></p><p id=\"uc7dce6df\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">listbox和list&lt;ClassName&gt;数据集合</span></p><p id=\"uad302ae9\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">Book类代码：</span></p><pre data-language=\"csharp\" id=\"sWn9d\" class=\"ne-codeblock language-csharp\"><code>public class Book\n{\n    public string BookName { get; set; }\n    public string Title { get; set; }\n}</code></pre><p id=\"u028b8707\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">数据集合list2代码：</span></p><pre data-language=\"csharp\" id=\"i6qwS\" class=\"ne-codeblock language-csharp\"><code>public List&lt;Book&gt; list2 { get; set; } = new List&lt;Book&gt;();\npublic MainWindow()\n{\n    InitializeComponent();\n    list2.Add(new Book() { BookName =&quot;语文&quot;,Title=&quot;出师表&quot;});\n    list2.Add(new Book() { BookName =&quot;数学&quot;,Title=&quot;3.14&quot;});\n    list2.Add(new Book() { BookName =&quot;英语&quot;,Title=&quot;Hello&quot;});\n}</code></pre><p id=\"u69c02c9d\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">xaml代码：</span></p><pre data-language=\"xml\" id=\"UodKw\" class=\"ne-codeblock language-xml\"><code>&lt;ListBox ItemsSource=&quot;{Binding list2}&quot;&gt;\n    &lt;ListBox.ItemTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;\n                &lt;Border Background=&quot;DarkOliveGreen&quot;&gt;\n                    &lt;TextBlock Text=&quot;{Binding BookName}&quot;/&gt;\n                &lt;/Border&gt;\n                &lt;Border Background=&quot;Aqua&quot;&gt;\n                    &lt;TextBlock Text=&quot;{Binding Title}&quot;/&gt;\n                &lt;/Border&gt;\n            &lt;/StackPanel&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/ListBox.ItemTemplate&gt;\n&lt;/ListBox&gt;</code></pre><p id=\"u165350c7\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">运行结果：</span></p><p id=\"ube6eb541\" class=\"ne-p\" style=\"text-align: left\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/23.png\" width=\"262\" id=\"u7c6367c9\" class=\"ne-image\" style=\"color: rgb(0, 0, 0); font-size: 14px\"></p><p id=\"u0e3d58be\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">对应关系：</span></p><p id=\"ud306bcb6\" class=\"ne-p\" style=\"text-align: left\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/24.png\" width=\"838\" id=\"u2d7584db\" class=\"ne-image\" style=\"color: rgb(0, 0, 0); font-size: 14px\"></p><p id=\"u4cd4213b\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\"></span></p><p id=\"u0387ef5f\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">每个ListBoxItem对应一个Book对象，每个Book对象包含2个属性，ListBoxItem中怎么显示Book对象的属性，就是取决于我们如何处理数据模板了。</span></p><p id=\"u33f088b5\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">（对于Book类，如果需要通知功能，则需要继承INotifyPropertyChanged并实现接口）</span></p><p id=\"u81f4c99b\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">上面是把DataTemplate定义在控件内部，为了可复用，可抽离出来定义在资源或资源字典中</span></p><pre data-language=\"xml\" id=\"SGLsf\" class=\"ne-codeblock language-xml\"><code>&lt;Window.Resources&gt;\n    &lt;DataTemplate x:Key=&quot;MyDataTemplate&quot;&gt;\n        &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;\n            &lt;Border Background=&quot;DarkOliveGreen&quot;&gt;\n                &lt;TextBlock Text=&quot;{Binding BookName}&quot;/&gt;\n            &lt;/Border&gt;\n            &lt;Border Background=&quot;Aqua&quot;&gt;\n                &lt;TextBlock Text=&quot;{Binding Title}&quot;/&gt;\n            &lt;/Border&gt;\n        &lt;/StackPanel&gt;\n    &lt;/DataTemplate&gt;\n&lt;/Window.Resources&gt;</code></pre><p id=\"u2dc8021d\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">引用定义好的DataTemplate</span></p><pre data-language=\"xml\" id=\"ALX1v\" class=\"ne-codeblock language-xml\"><code>&lt;ListBox ItemsSource=&quot;{Binding list2}&quot; ItemTemplate=&quot;{StaticResource MyDataTemplate}&quot;/&gt;</code></pre><h2 id=\"DRle1\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0)\">ItemPanelTemplate</span></h2><p id=\"u9a5c74d8\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">继续拿ListBox举例，ListBox集合中的每个ListBoxItem是按照从上往下的排列顺序，如果想要更改内部子项的布局顺序，则需要修改ListBox的ItemPaneltemplate</span></p><pre data-language=\"xml\" id=\"Qty7Z\" class=\"ne-codeblock language-xml\"><code>&lt;ItemsPanelTemplate x:Key=&quot;panel&quot;&gt;\n \t\t&lt;StackPanel Orientation=&quot;Horizontal&quot; VerticalAlignment=&quot;Bottom&quot; HorizontalAlignment=&quot;Center&quot;/&gt;\n&lt;/ItemsPanelTemplate&gt;</code></pre><pre data-language=\"xml\" id=\"XXtxG\" class=\"ne-codeblock language-xml\"><code>&lt;ListBox ItemsSource=&quot;{Binding list2}&quot; ItemTemplate=&quot;{StaticResource MyDataTemplate}&quot; ItemsPanel=&quot;{StaticResource panel}&quot;/&gt;</code></pre><p id=\"uf2088117\" class=\"ne-p\" style=\"text-align: left\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/25.png\" width=\"1178\" id=\"u32fcdb83\" class=\"ne-image\" style=\"color: rgb(0, 0, 0); font-size: 14px\"></p><h2 id=\"GJ5p4\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0)\">ItemContainerStyle</span></h2><p id=\"uf81dbfc8\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">修改每个ListboxItem的style。看一个简单的例子，还是对上面的例子做拓展,每个子项使用一个Border包起来，并在下方添加一个CheckBox</span></p><pre data-language=\"xml\" id=\"VArqR\" class=\"ne-codeblock language-xml\"><code>&lt;ListBox ItemsSource=&quot;{Binding list2}&quot; ItemTemplate=&quot;{StaticResource MyDataTemplate}&quot; ItemsPanel=&quot;{StaticResource panel}&quot; &gt;\n    &lt;ListBox.ItemContainerStyle&gt;\n        &lt;Style TargetType=&quot;ListBoxItem&quot;&gt;　　　　　　　　　　　　　　\n            &lt;Setter Property=&quot;Foreground&quot; Value=&quot;Blue&quot;/&gt;\n            &lt;Setter Property=&quot;Template&quot;&gt;\n                &lt;Setter.Value&gt;\n                    &lt;ControlTemplate TargetType=&quot;ListBoxItem&quot;&gt;\n                        &lt;StackPanel&gt;\n                            &lt;Border Name=&quot;border&quot; Width=&quot;{TemplateBinding Width}&quot; Height=&quot;{TemplateBinding Height}&quot; BorderBrush=&quot;Green&quot; BorderThickness=&quot;1&quot;&gt;\n                                &lt;ContentPresenter /&gt;\n                            &lt;/Border&gt;\n                            &lt;CheckBox/&gt;\n                        &lt;/StackPanel&gt;\n                        &lt;ControlTemplate.Triggers&gt;\n                            &lt;Trigger Property=&quot;IsMouseOver&quot; Value=&quot;True&quot;&gt;\n                                &lt;Setter Property=&quot;BorderThickness&quot; Value=&quot;2&quot; TargetName=&quot;border&quot;/&gt;\n                            &lt;/Trigger&gt;\n                        &lt;/ControlTemplate.Triggers&gt;\n                    &lt;/ControlTemplate&gt;\n                &lt;/Setter.Value&gt;\n            &lt;/Setter&gt;\n        &lt;/Style&gt;\n    &lt;/ListBox.ItemContainerStyle&gt;\n&lt;/ListBox&gt;</code></pre><p id=\"u651651c5\" class=\"ne-p\" style=\"text-align: left\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/27.png\" width=\"1219\" id=\"uac167e57\" class=\"ne-image\" style=\"color: rgb(0, 0, 0); font-size: 14px\"></p><p id=\"u5f5e7e7d\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">运行结果：</span></p><p id=\"ua9f53647\" class=\"ne-p\" style=\"text-align: left\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/26.png\" width=\"785\" id=\"u41ea61f5\" class=\"ne-image\" style=\"color: rgb(0, 0, 0); font-size: 14px\"></p><p id=\"u58a34efe\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">Triggers：</span></p><p id=\"ub5b30edc\" class=\"ne-p\" style=\"text-align: left\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/28.png\" width=\"769\" id=\"uc144ed10\" class=\"ne-image\" style=\"color: rgb(0, 0, 0); font-size: 14px\"></p><p id=\"uc75ed4ba\" class=\"ne-p\" style=\"text-align: left\"><span class=\"ne-text\" style=\"color: rgb(0, 0, 0); font-size: 14px\">结果：</span></p><p id=\"ue1aa52b4\" class=\"ne-p\" style=\"text-align: left\"><img src=\"https://file.cadengao.com/assets/doc/54197715.119850854/image/29.png\" width=\"1181\" id=\"uad3a271f\" class=\"ne-image\" style=\"color: rgb(0, 0, 0); font-size: 14px\"></p></div>"
}