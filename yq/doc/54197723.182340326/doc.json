{
  "uuid": "54197723.182340326",
  "id": 182340326,
  "title": "frp-内网穿透【Resource】",
  "cover": "https://cdn.nlark.com/yuque/0/2024/png/123299/1723701852305-14a00a95-a6a7-4fd2-9fa2-5cf215df6997.png",
  "book_id": 54197723,
  "book_name": "Resource",
  "public": 0,
  "word_count": 340,
  "created_at": "2024-08-15T06:03:39",
  "updated_at": "2024-08-17T03:32:33",
  "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><h1 id=\"2899bf36\"><span class=\"ne-text\">安装包地址</span></h1><p id=\"u51ce7ace\" class=\"ne-p\"><a href=\"https://github.com/fatedier/frp/releases\" data-href=\"https://github.com/fatedier/frp/releases\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">Releases · fatedier/frp</span></a><span class=\"ne-text\"><br /></span><img src=\"https://file.cadengao.com/assets/doc/54197723.182340326/image/0.png\" width=\"1868\" id=\"ud7ad0cb9\" class=\"ne-image\"></p><h1 id=\"dd120f0f\"><span class=\"ne-text\">服务器端（Ubuntu）</span></h1><ol class=\"ne-ol\"><li id=\"u25cb16e6\" data-lake-index-type=\"0\"><span class=\"ne-text\">下载</span></li></ol><p id=\"ua8f5a1ce\" class=\"ne-p\"><a href=\"https://www.yuque.com/attachments/yuque/0/2024/gz/123299/1723701896040-4b1da8d0-34a0-48c2-96f6-ec512a9f0a7a.gz\" id=\"u4d4e721b\" class=\"ne-card-file\">📎frp_0.48.0_linux_amd64.tar.gz</a></p><pre data-language=\"plain\" id=\"B3v6W\" class=\"ne-codeblock language-plain\"><code>wget https://github.com/fatedier/frp/releases/download/v0.48.0/frp_0.48.0_linux_amd64.tar.gz</code></pre><ol class=\"ne-ol\"><li id=\"u912d8f03\" data-lake-index-type=\"0\"><span class=\"ne-text\">解压</span></li></ol><pre data-language=\"plain\" id=\"jr36v\" class=\"ne-codeblock language-plain\"><code>tar -zxvf frp_0.48.0_linux_amd64.tar.gz</code></pre><ol class=\"ne-ol\"><li id=\"u3b7320ec\" data-lake-index-type=\"0\"><span class=\"ne-text\">重命名</span></li></ol><pre data-language=\"plain\" id=\"ogtia\" class=\"ne-codeblock language-plain\"><code>mv frp_0.48.0_linux_amd64 frp</code></pre><ol class=\"ne-ol\"><li id=\"u22396cc3\" data-lake-index-type=\"0\"><span class=\"ne-text\">修改内容</span></li></ol><p id=\"u2f3cdfb0\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">/root/frp/frps.ini</span></code><span class=\"ne-text\"> 文件内容：</span></p><pre data-language=\"plain\" id=\"ssF45\" class=\"ne-codeblock language-plain\"><code>[common]\n#用于客户端和服务端连接的端口\nbind_port = 7000 \n#是服务端仪表板的端口\ndashboard_port = 7500\n#这是HTTP服务的端口，可以按自己的需求改为其他的，默认80\nvhost_http_port = 8081 \n#用于客户端和服务端连接的口令\ntoken = Y5KZTv^k!J6K798i7bzOWYcI*qV7vU@*\n#打开仪表板页面登录的用户名和密码\ndashboard_user = admin\ndashboard_pwd = 2457</code></pre><h2 id=\"811eae1e\"><span class=\"ne-text\">永久运行</span></h2><pre data-language=\"plain\" id=\"qNSnC\" class=\"ne-codeblock language-plain\"><code>nohup frp/./frps -c frp/frps.ini &amp;</code></pre><h1 id=\"66588fbb\"><span class=\"ne-text\">客户端（Mac）</span></h1><p id=\"u974c3d5c\" class=\"ne-p\"><span class=\"ne-text\">下载</span></p><pre data-language=\"plain\" id=\"cVBay\" class=\"ne-codeblock language-plain\"><code>wget https://github.com/fatedier/frp/releases/download/v0.48.0/frp_0.48.0_darwin_arm64.tar.gz</code></pre><p id=\"u50c66313\" class=\"ne-p\"><span class=\"ne-text\">https://res.craft.do/user/full/00be9a3c-07c6-267d-eb0e-2c13078f3c6a/doc/B2053CBB-59CB-4F58-94BA-F021F4E73A10/BEA3B5DA-6D70-449E-902A-08F4873FC0FB_2/gYN05jUKDMF1XLDToXEDiwJOrDlP275kqF6qFIX04tAz/frp_0.48.0_darwin_arm64.tar.gz</span></p><p id=\"u40fa20aa\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">/Users/gao/frpc/frpc.ini</span></code><span class=\"ne-text\"> 文件内容：</span></p><pre data-language=\"plain\" id=\"JzThB\" class=\"ne-codeblock language-plain\"><code>#手动执行: /Users/gao/frpc/frpc -c /Users/gao/frpc/frpc.ini\n[common]\nserver_addr = 43.142.242.91\nserver_port = 7000\nlogin_fail_exit = false\ntls_enable=true\nprivilege_token = Y5KZTv^k!J6K798i7bzOWYcI*qV7vU@*\ntoken = Y5KZTv^k!J6K798i7bzOWYcI*qV7vU@*\n\n[vnc]\ntype = tcp\nlocal_ip = 127.0.0.1\nlocal_port = 5900\nremote_port = 59000\nuse_encryption = true\nuse_compression = true\n\n[ssh]\ntype=tcp\nlocal_ip=127.0.0.1\nlocal_port =22\nremote_port =222\nuse_encryption =true\nuse_compression =true\n\n[wiznote]\ntype = tcp\nlocal_port = 80\nremote_port = 800\nlocal_ip = 127.0.0.1</code></pre><h2 id=\"893ffda6\"><span class=\"ne-text\">开机自启动</span></h2><ol class=\"ne-ol\"><li id=\"ub1bde03f\" data-lake-index-type=\"0\"><span class=\"ne-text\">终端执行</span></li></ol><pre data-language=\"plain\" id=\"BtfhC\" class=\"ne-codeblock language-plain\"><code>sudo vim /Library/LaunchDaemons/frpc.plist</code></pre><ol class=\"ne-ol\"><li id=\"u38b7eb31\" data-lake-index-type=\"0\"><span class=\"ne-text\">追加内容并保存</span></li></ol><pre data-language=\"plain\" id=\"bvkWq\" class=\"ne-codeblock language-plain\"><code>&lt;plist&gt;\n&lt;dict&gt;\n    &lt;key&gt;Label&lt;/key&gt;\n    &lt;string&gt;frpc&lt;/string&gt;\n    &lt;key&gt;ProgramArguments&lt;/key&gt;\n    &lt;array&gt;\n        &lt;string&gt;/Users/gao/frpc/frpc&lt;/string&gt;//替换为自己的frpc执行程序路径,并移除当前注释\n        &lt;string&gt;-c&lt;/string&gt;\n        &lt;string&gt;/Users/gao/frpc/frpc.ini&lt;/string&gt;//替换为自己的frpc.ini配置路径,并移除当前注释\n    &lt;/array&gt;\n    &lt;key&gt;KeepAlive&lt;/key&gt;\n    &lt;true&gt;\n    &lt;key&gt;RunAtLoad&lt;/key&gt;\n    &lt;true&gt;\n&lt;/true&gt;&lt;/true&gt;&lt;/dict&gt;\n&lt;/plist&gt;</code></pre><ol class=\"ne-ol\"><li id=\"u4f3b5d7c\" data-lake-index-type=\"0\"><span class=\"ne-text\">加入启动项</span></li></ol><pre data-language=\"plain\" id=\"WdaKP\" class=\"ne-codeblock language-plain\"><code>sudo chown root /Library/LaunchDaemons/frpc.plist\nsudo launchctl load -w /Library/LaunchDaemons/frpc.plist</code></pre><ol class=\"ne-ol\"><li id=\"u52cfafc6\" data-lake-index-type=\"0\"><span class=\"ne-text\">取消启动项</span></li></ol><pre data-language=\"plain\" id=\"Rdgf9\" class=\"ne-codeblock language-plain\"><code>sudo launchctl unload -w /Library/LaunchDaemons/frpc.plist</code></pre></div>"
}