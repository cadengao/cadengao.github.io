import{r as u,o as y,c as h,a as l,b as C,t as w,d as E,L as I,F as _,u as D,e as f}from"./index.js";const L={key:0},b={__name:"Doc",props:{searchQuery:String,filterQuery:String},setup(j){const m=D(),r=u(!1),i=u(!0),p=()=>{const e=m.params.uuid||"aBWr8IRRj93bgz",a=m.params.protected||"false";return{shareId:e,isProtected:a}},g=()=>{const{shareId:e,isProtected:a}=p();let t=document.querySelector('meta[name="luki:share-id"]');const d=t;t||(t=document.createElement("meta"),t.name="luki:share-id",document.head.appendChild(t)),t.content=e,console.log("Updated shareId:",e);let o=document.querySelector('meta[name="luki:password-protected"]');o?o.content=a:(o=document.createElement("meta"),o.name="luki:password-protected",o.content=a,document.head.appendChild(o));let c=document.querySelector('meta[name="luki:api-endpoint"]');c||(c=document.createElement("meta"),c.name="luki:api-endpoint",c.content="https://pro.craft.me/api",document.head.appendChild(c));let n=document.querySelector('meta[name="luki:override-static-asset-root"]');return n||(n=document.createElement("meta"),n.name="luki:override-static-asset-root",n.content="/craft",document.head.appendChild(n)),d},k=e=>new Promise(a=>{const t=["/craft/share/static/css/fontdef.r-11-gd9b659d.css","/craft/share/static/css/fontdef.r-24-g083f5a5.css","/craft/share/static/css/vendors~main.c3800cce.css","/craft/share/static/css/main.0e2f5845.css"];let d=0;t.forEach(n=>{const s=document.createElement("link");s.rel="stylesheet",s.href=n,s.onload=()=>{d++,d===t.length&&a()},document.head.appendChild(s)});const o=["/craft/share/static/js/vendors~main.533c931f.js","/craft/share/static/js/main.063840fd.js"];let c=0;o.forEach(n=>{const s=document.createElement("script");s.src=n,s.defer=!0,s.onload=()=>{c++,c===o.length&&(a(),e&&e())},document.body.appendChild(s)})}),v=()=>{r.value=!r.value,document.documentElement.style.colorScheme=r.value?"dark":"light",localStorage.setItem("theme",r.value?"dark":"light")},S=()=>{const e=localStorage.getItem("theme")||"light";r.value=e==="dark",document.documentElement.style.colorScheme=r.value?"dark":"light"};return y(async()=>{S(),g()||await k(()=>{typeof window.initCraftDoc=="function"?(i.value=!1,window.initCraftDoc()):console.error("window.initCraftDoc is not a function")}),window.initCraftDoc&&(i.value=!1,window.initCraftDoc())}),(e,a)=>{const t=I;return f(),h(_,null,[l("button",{id:"theme-toggle",onClick:v,class:"theme-toggle-btn"},w(r.value?"☾":"☀"),1),a[0]||(a[0]=l("div",{class:"craft-doc-container craft-lake-content",style:{height:"100%"}},[l("div",{id:"root",style:{height:"100%"}})],-1)),i.value?(f(),h("div",L,[E(t)])):C("",!0)],64)}}};export{b as default};
