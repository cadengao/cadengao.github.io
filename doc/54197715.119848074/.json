{
  "UUID": "54197715.119848074",
  "DocId": 0,
  "Type": null,
  "Format": null,
  "Title": "WPF-\u8DEF\u7531\u4E8B\u4EF6\u3010Area\u3011",
  "TagDatas": null,
  "Slug": null,
  "Tags": null,
  "Description": null,
  "Cover": null,
  "BookId": 0,
  "BookName": null,
  "Public": 0,
  "WordCount": 0,
  "CreatedAt": "0001-01-01T00:00:00",
  "UpdatedAt": "0001-01-01T00:00:00",
  "BodyHtml": "\u003C!doctype html\u003E\u003Cdiv class=\u0022lake-content\u0022 typography=\u0022classic\u0022\u003E\u003Ch1 id=\u0022iSxoG\u0022 style=\u0022text-align: left\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0)\u0022\u003E\u4EC0\u4E48\u662F\u8DEF\u7531\u4E8B\u4EF6\u003C/span\u003E\u003C/h1\u003E\u003Cp id=\u0022uf5f69075\u0022 class=\u0022ne-p\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0); font-size: 14px\u0022\u003E\u7B80\u5355\u8BF4\uFF0C\u8DEF\u7531\u4E8B\u4EF6\u53EF\u4EE5\u6CBF\u7740\u89C6\u89C9\u6811VisualTree\u8FDB\u884C\u4F20\u9012\uFF0C\u5728\u8FD9\u89C6\u89C9\u6811\u4E2D\u7684\u6240\u6709\u5BF9\u8C61\u90FD\u53EF\u4EE5\u6536\u5230\u8FD9\u4E2A\u4E8B\u4EF6\u3002\u524D\u63D0\u662F\u6DFB\u52A0\u4E86\u68C0\u6D4B\u3002\u003C/span\u003E\u003C/p\u003E\u003Ch2 id=\u0022WxEXB\u0022 style=\u0022text-align: left\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0)\u0022\u003E\u4EC0\u4E48\u662F\u903B\u8F91\u6811LogicalTree\u003C/span\u003E\u003C/h2\u003E\u003Cp id=\u0022ua34c4531\u0022 class=\u0022ne-p\u0022 style=\u0022text-align: left\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0); font-size: 14px\u0022\u003E\u7B80\u5355\u7406\u89E3\uFF1A\u903B\u8F91\u6811\u5C31\u662F\u6211\u4EEC\u5728xaml\u4E2D\u5199\u7684\u5E03\u5C40\u903B\u8F91\u003C/span\u003E\u003C/p\u003E\u003Cp id=\u0022ub37fa002\u0022 class=\u0022ne-p\u0022 style=\u0022text-align: left\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0); font-size: 14px\u0022\u003E\u5982xaml\u4EE3\u7801\uFF1A\u003C/span\u003E\u003C/p\u003E\u003Cpre data-language=\u0022xml\u0022 id=\u0022IhxYC\u0022 class=\u0022ne-codeblock language-xml\u0022\u003E\u0026lt;Grid\u0026gt;\n   \u3000\u3000\u0026lt;StackPanel Orientation=\u0026quot;Vertical\u0026quot;\u0026gt;\n        \u3000\u3000\u0026lt;DockPanel ButtonBase.Click=\u0026quot;Button_Click\u0026quot;\u0026gt;\n                \u0026lt;Button Click=\u0026quot;Button_Click\u0026quot; Content=\u0026quot;right\u0026quot; DockPanel.Dock=\u0026quot;Right\u0026quot;/\u0026gt;\n                \u0026lt;Button Content=\u0026quot;left\u0026quot; DockPanel.Dock=\u0026quot;Left\u0026quot;/\u0026gt;\n                \u0026lt;Button Content=\u0026quot;top\u0026quot; DockPanel.Dock=\u0026quot;Top\u0026quot;/\u0026gt;\n                \u0026lt;Button Content=\u0026quot;bottom\u0026quot; DockPanel.Dock=\u0026quot;Bottom\u0026quot;/\u0026gt;\n            \u0026lt;/DockPanel\u0026gt;\n      \u0026lt;/StackPanel\u0026gt;\n\u0026lt;/Grid\u0026gt;\u003C/pre\u003E\u003Cp id=\u0022ue3fd70a8\u0022 class=\u0022ne-p\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0); font-size: 14px\u0022\u003E\u903B\u8F91\u5C31\u662FGrid--StackPanel--CockPanel--Button\u003C/span\u003E\u003C/p\u003E\u003Cp id=\u0022u2c83029f\u0022 class=\u0022ne-p\u0022\u003E\u003Cimg src=\u0022https://raw.githubusercontent.com/cadengao/cadengao.github.io/blog_file//doc/54197715.119848074/image/0.png\u0022 width=\u0022416\u0022 id=\u0022u944852d5\u0022 class=\u0022ne-image\u0022\u003E\u003C/p\u003E\u003Ch2 id=\u0022ly3wy\u0022 style=\u0022text-align: left\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0)\u0022\u003E\u4EC0\u4E48\u662F\u89C6\u89C9\u6811VisualTree\u003C/span\u003E\u003C/h2\u003E\u003Cp id=\u0022u233453c2\u0022 class=\u0022ne-p\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0); font-size: 14px\u0022\u003E\u89C6\u89C9\u6811\u66F4\u590D\u6742\uFF0C\u5728\u903B\u8F91\u6811\u4E0A\u53C8\u6DFB\u52A0\u4E86\u66F4\u8BE6\u7EC6\u7684\u5E03\u5C40\uFF0C\u5305\u542B\u770B\u4E0D\u89C1\u7684\u5BF9\u8C61\uFF0C\u548C\u63A7\u4EF6\u6A21\u677F\u5185\u90E8\u7684\u5BF9\u8C61\uFF0C\u5982Button\u7684\u63A7\u4EF6\u6A21\u677F\u5185\u90E8\u6709\u4E00\u4E2ABorder--ConentPresenter--TextBlock\u003C/span\u003E\u003C/p\u003E\u003Cp id=\u0022u31155d61\u0022 class=\u0022ne-p\u0022\u003E\u003Cimg src=\u0022https://raw.githubusercontent.com/cadengao/cadengao.github.io/blog_file//doc/54197715.119848074/image/1.png\u0022 width=\u0022491\u0022 id=\u0022uce0ef560\u0022 class=\u0022ne-image\u0022\u003E\u003C/p\u003E\u003Cp id=\u0022ueff34426\u0022 class=\u0022ne-p\u0022 style=\u0022text-align: left\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0); font-size: 14px\u0022\u003E\u5728\u89C6\u89C9\u6811\u4E0A\uFF0C\u7EA2\u8272\u6846\u662F\u903B\u8F91\u6811\u4E0A\u6709\u7684\uFF0C\u84DD\u8272\u6846\u662Fbutton\u5185\u90E8\u7684\u63A7\u4EF6\u003C/span\u003E\u003C/p\u003E\u003Cp id=\u0022u08f1af7e\u0022 class=\u0022ne-p\u0022 style=\u0022text-align: left\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0); font-size: 14px\u0022\u003E\u5728\u8FD9\u4E2A\u89C6\u89C9\u6811\u4E0A\uFF0C\u9876\u90E8\u5143\u7D20\u662Fwindow\uFF08\u6700\u5916\u8FB9\uFF09\uFF0C\u6700\u5185\u90E8\u662FTextBlock\uFF0C\u90A3\u5C31\u4F1A\u67092\u4E2A\u65B9\u5411\uFF0C\u4ECE\u6700\u5916\u5230\u6700\u5185\uFF0C\u4ECE\u6700\u5185\u5230\u6700\u5916\uFF0C\u003C/span\u003E\u003C/p\u003E\u003Cdiv data-type=\u0022color2\u0022 class=\u0022ne-alert\u0022\u003E\u003Cp id=\u0022u873b95e2\u0022 class=\u0022ne-p\u0022 style=\u0022text-align: left\u0022\u003E\u003Cstrong\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: #DF2A3F; font-size: 14px\u0022\u003E\u5192\u6CE1\u4E8B\u4EF6\uFF1A\u4ECE\u5185\u5230\u5916\u53EB  \u4E0D\u5E26Preview\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp id=\u0022u740a05bc\u0022 class=\u0022ne-p\u0022 style=\u0022text-align: left\u0022\u003E\u003Cstrong\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: #DF2A3F; font-size: 14px\u0022\u003E\u96A7\u9053\u4E8B\u4EF6\uFF1A\u4ECE\u5916\u5230\u5185\u53EB  \u4EE5Preview\u5F00\u5934\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003C/div\u003E\u003Cp id=\u0022u1e79aae3\u0022 class=\u0022ne-p\u0022 style=\u0022text-align: left\u0022\u003E\u003Cstrong\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: #DF2A3F; font-size: 14px\u0022\u003E\u4E00\u4E2A\u5B8C\u6574\u7684\u8DEF\u7531\u4E8B\u4EF6\u7684\u6267\u884C\u987A\u5E8F\u662F\u5148\u96A7\u9053\u4ECEwindow\u4F20\u9012\u5230\u5185\u90E8\uFF0C\u518D\u5192\u6CE1\u4ECE\u6700\u5185\u4F20\u9012\u5230\u6700\u5916\u3002\u003C/span\u003E\u003C/strong\u003E\u003C/p\u003E\u003Cp id=\u0022uc2031daf\u0022 class=\u0022ne-p\u0022 style=\u0022text-align: left\u0022\u003E\u003Cimg src=\u0022https://raw.githubusercontent.com/cadengao/cadengao.github.io/blog_file//doc/54197715.119848074/image/2.png\u0022 width=\u0022518\u0022 id=\u0022ubd6bb72c\u0022 class=\u0022ne-image\u0022\u003E\u003C/p\u003E\u003Cp id=\u0022u0bd63628\u0022 class=\u0022ne-p\u0022 style=\u0022text-align: left\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0); font-size: 14px\u0022\u003E\u6BD4\u5982Button\u7684Click\u4E8B\u4EF6\uFF0C\u662F\u5148\u7531\u7A97\u4F53\u63A5\u6536\u5230\u9F20\u6807\u7684\u70B9\u51FB\u64CD\u4F5C\uFF0C\u5148\u96A7\u9053\u4F20\u5230Button\uFF0C\u5728\u5192\u6CE1\u4F20\u56DE\u7A97\u4F53\uFF0C\u5728\u8FD9\u4E2A\u8FC7\u7A0B\u4E2D\uFF0C\u89C6\u89C9\u6811VisualTree\u4E2D\u7684\u4EFB\u4F55\u5BF9\u8C61\u90FD\u53EF\u4EE5\u63A5\u6536\u5230Button\u7684Click\u4E8B\u4EF6\uFF0C\u524D\u63D0\u662F\u5DF2\u6DFB\u52A0\u4E86\u63A5\u6536\u7684\u64CD\u4F5C\u003C/span\u003E\u003C/p\u003E\u003Cp id=\u0022u287b90ef\u0022 class=\u0022ne-p\u0022 style=\u0022text-align: left\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0); font-size: 14px\u0022\u003E\u7B80\u5355\u6765\u8BF4\uFF0C\u903B\u8F91\u6811\u662F\u5728xaml\u4E2D\u6211\u4EEC\u5E03\u5C40\u65F6\u7684\u903B\u8F91\uFF0C\u89C6\u89C9\u6811\u662F\u5728\u903B\u8F91\u6811\u7684\u57FA\u7840\u4E0A\u8FD8\u5305\u542B\u4E86\u770B\u4E0D\u89C1\u7684\u5BF9\u8C61\u548C\u63A7\u4EF6\u6A21\u677F\u5185\u7684\u5BF9\u8C61\u003C/span\u003E\u003C/p\u003E\u003Cp id=\u0022u1dd146fa\u0022 class=\u0022ne-p\u0022 style=\u0022text-align: left\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0); font-size: 14px\u0022\u003E\u4E00\u4E2A\u8DEF\u7531\u4E8B\u4EF6\u53EF\u4EE5\u4F7F\u7528e.Handl=True\uFF0C\u7ED3\u675F\u4F20\u9012\u3002\u003C/span\u003E\u003C/p\u003E\u003Ch1 id=\u0022EXDip\u0022 style=\u0022text-align: left\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0)\u0022\u003E\u81EA\u5B9A\u4E49\u8DEF\u7531\u4E8B\u4EF6\u003C/span\u003E\u003C/h1\u003E\u003Cp id=\u0022ucfa27559\u0022 class=\u0022ne-p\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0); font-size: 14px\u0022\u003E\u5047\u5982\u53F3\u952E3\u6B21\u5355\u51FB\u7684\u4E8B\u4EF6 \u540D\u53EBThreeRightClick\uFF0C\u90A3\u4E48ThreeRightClick\u548CMouseLeftButtonDown\u3001MouseRightButtonDown\u3001Click\u7B49\u662F\u4E00\u4E2A\u7EA7\u522B\u7684\uFF0C\u4E5F\u53EF\u4EE5\u662F\u5192\u6CE1\u7684\u96A7\u9053\u7684\u3002\u5728\u8C03\u7528\u65F6\u7684\u5F62\u5F0F\u548C\u4ED6\u4EEC\u6CA1\u6709\u533A\u522B\u003C/span\u003E\u003C/p\u003E\u003Ch2 id=\u0022OWTkE\u0022\u003E\u003Cspan class=\u0022ne-text\u0022 style=\u0022color: rgb(0, 0, 0)\u0022\u003E\u5982\u4F55\u81EA\u5B9A\u4E49\u003C/span\u003E\u003C/h2\u003E\u003Cpre data-language=\u0022csharp\u0022 id=\u0022s4uVR\u0022 class=\u0022ne-codeblock language-csharp\u0022\u003Epublic class Mybutton:Button\n{\n    public Mybutton()\n    {\n        // \u7ED9Mybutton\u6DFB\u52A0\u5185\u7F6E\u7684MouseRightButtonDownEvent\u4E8B\u4EF6\uFF0C\u7528\u4E8E\u89E6\u53D1\u81EA\u5B9A\u4E49\u8DEF\u7531\u4E8B\u4EF6ThreeRightClick\n        this.AddHandler(Button.MouseRightButtonDownEvent, new RoutedEventHandler(OnRightClick));\n        // \u7ED9Mybutton\u6DFB\u52A0\u5185\u7F6E\u7684PreviewMouseRightButtonDownEvent\u4E8B\u4EF6\uFF0C\u7528\u4E8E\u89E6\u53D1\u81EA\u5B9A\u4E49\u8DEF\u7531\u4E8B\u4EF6PreviewThreeRightClick\n        this.AddHandler(Button.PreviewMouseRightButtonDownEvent, new RoutedEventHandler(OnPreviewRightClick));\n        // \u7ED9Mybutton\u6DFB\u52A0\u81EA\u5B9A\u4E49\u7684ThreeRightClickEvent\u4E8B\u4EF6\uFF0C\n        //this.AddHandler(Mybutton.ThreeRightClickEvent, new RoutedEventHandler(OnThreeRightClick));\n      \n    }\n    private int cnt1 = 0;\n    //PreviewMouseRightButtonDownEvent\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u5728\u91CC\u9762\u53BB\u89E6\u53D1\u81EA\u5B9A\u4E49\u8DEF\u7531\u4E8B\u4EF6PreviewThreeRightClick\n    private void OnPreviewRightClick(object sender, RoutedEventArgs e)\n    {\n        cnt1\u002B\u002B;\n        if (cnt1 == 3)\n        {                                                                  //\u81EA\u5B9A\u4E49\u8DEF\u7531\u4E8B\u4EF6PreviewThreeRightClick \u96A7\u9053\u5F62\u5F0F\n            RoutedEventArgs routedEventArgs = new RoutedEventArgs(Mybutton.PreviewThreeRightClickEvent);\n            this.RaiseEvent(routedEventArgs);\n            cnt1 = 0;\n        }\n    }\n  \n     private int cnt = 0;\n    //MouseRightButtonDownEvent\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u5728\u91CC\u9762\u53BB\u89E6\u53D1\u81EA\u5B9A\u4E49\u8DEF\u7531\u4E8B\u4EF6ThreeRightClick\n    private void OnRightClick(object sender, RoutedEventArgs e)\n    {\n        cnt\u002B\u002B;\n        if(cnt==3)\n        {                                                                //\u81EA\u5B9A\u4E49\u8DEF\u7531\u4E8B\u4EF6PreviewThreeRightClick \u5192\u6CE1\u5F62\u5F0F\n            RoutedEventArgs routedEventArgs = new RoutedEventArgs(Mybutton.ThreeRightClickEvent);\n            this.RaiseEvent(routedEventArgs);\n            cnt=0;\n        }\n    }\n    //\u6B64\u81EA\u5B9A\u4E49\u8DEF\u7531\u4E8B\u4EF6\u662F\u5192\u6CE1\u7684\n    public static readonly RoutedEvent ThreeRightClickEvent = EventManager.RegisterRoutedEvent(\u0026quot;ThreeRightClick\u0026quot;, RoutingStrategy.Bubble, typeof(RoutedEventHandler), typeof(Mybutton));\n    public event RoutedEventHandler ThreeRightClick\n    {\n        add { AddHandler(ThreeRightClickEvent, value); }\n        remove\n        {\n            RemoveHandler(ThreeRightClickEvent, value);\n        }\n    }\n    //\u6B64\u81EA\u5B9A\u4E49\u8DEF\u7531\u4E8B\u4EF6\u662F\u96A7\u9053\u7684\n    public static readonly RoutedEvent PreviewThreeRightClickEvent = EventManager.RegisterRoutedEvent(\u0026quot;PreviewThreeRightClick\u0026quot;, RoutingStrategy.Tunnel, typeof(RoutedEventHandler), typeof(Mybutton));\n    public event RoutedEventHandler PreviewThreeRightClick\n    {\n        add { AddHandler(PreviewThreeRightClickEvent, value); }\n        remove\n        {\n            RemoveHandler(PreviewThreeRightClickEvent, value);\n        }\n    }\n}\u003C/pre\u003E\u003Ch2 id=\u0022cwKtg\u0022\u003E\u003Cspan class=\u0022ne-text\u0022\u003E\u5982\u4F55\u8C03\u7528\u003C/span\u003E\u003C/h2\u003E\u003Cpre data-language=\u0022plain\u0022 id=\u0022NG754\u0022 class=\u0022ne-codeblock language-plain\u0022\u003E\u8C03\u7528\u65B9\u5F0F1\n\u0026lt;local:Mybutton ThreeRightClick=\u0026quot;OnThreeRightClick\u0026quot; PreviewMouseLeftButtonDown=\u0026quot;PreMouseLeftButtonDown\u0026quot; Height=\u0026quot;30\u0026quot; Width=\u0026quot;50\u0026quot; Content=\u0026quot;\u53F3\u952E3\u51FB\u0026quot; /\u0026gt;\n\u8C03\u7528\u65B9\u5F0F2\nthis.AddHandler(Mybutton.ThreeRightClickEvent, new RoutedEventHandler(OnThreeRightClick));\u003C/pre\u003E\u003Cp id=\u0022u88ff3e6c\u0022 class=\u0022ne-p\u0022\u003E\u003Cimg src=\u0022https://raw.githubusercontent.com/cadengao/cadengao.github.io/blog_file//doc/54197715.119848074/image/3.png\u0022 width=\u00221501\u0022 id=\u0022u84cc5dd3\u0022 class=\u0022ne-image\u0022\u003E\u003C/p\u003E\u003C/div\u003E",
  "Body": null,
  "CosUpdatedAt": "0001-01-01T00:00:00",
  "BodyHtmlCosUrl": null
}